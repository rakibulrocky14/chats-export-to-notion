<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OmniExporter AI</title>
    <link rel="stylesheet" href="popup.css">
    <link rel="stylesheet" href="toast.css">
    <link rel="stylesheet" href="notion-picker.css">
</head>

<body>
    <div class="popup">
        <!-- Toast Container -->
        <div id="omni-toast-container" class="toast-container"></div>

        <!-- Header -->
        <header>
            <div class="logo">
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <path fill="currentColor"
                        d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M11,6V12L16,15L16.8,13.7L12.5,11.2V6H11Z" />
                </svg>
                <span>OmniExporter AI</span>
            </div>
            <div class="header-status">
                <div id="connection-status" class="connection-status">
                    <span class="status-dot"></span>
                </div>
                <div id="platform-status" class="platform-badge">Detecting...</div>
            </div>
        </header>

        <!-- Platform Navigation Bar -->
        <nav class="platform-nav">
            <!-- Perplexity - Compass/Search icon -->
            <button class="nav-btn tooltip-wrapper" data-platform="perplexity" title="Perplexity">
                <span class="connection-dot" id="dot-perplexity"></span>
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <circle cx="12" cy="12" r="9" fill="none" stroke="#20B2AA" stroke-width="2" />
                    <path d="M12 3v4M12 17v4M3 12h4M17 12h4" stroke="#20B2AA" stroke-width="2" stroke-linecap="round" />
                    <circle cx="12" cy="12" r="3" fill="#20B2AA" />
                </svg>
                <span class="tooltip">Perplexity</span>
            </button>
            <!-- ChatGPT - OpenAI style -->
            <button class="nav-btn tooltip-wrapper" data-platform="chatgpt" title="ChatGPT">
                <span class="connection-dot" id="dot-chatgpt"></span>
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <path fill="#10a37f"
                        d="M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.677l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.896zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08-4.778 2.758a.795.795 0 0 0-.393.681v6.722zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z" />
                </svg>
                <span class="tooltip">ChatGPT</span>
            </button>
            <!-- Claude - Anthropic style -->
            <button class="nav-btn tooltip-wrapper" data-platform="claude" title="Claude">
                <span class="connection-dot" id="dot-claude"></span>
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <path fill="#cc785c"
                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" />
                    <circle cx="12" cy="12" r="5" fill="#cc785c" />
                    <path d="M12 7v5l3.5 3.5" stroke="white" stroke-width="1.5" fill="none" stroke-linecap="round" />
                </svg>
                <span class="tooltip">Claude</span>
            </button>
            <!-- Gemini - Google style stars -->
            <button class="nav-btn tooltip-wrapper" data-platform="gemini" title="Gemini">
                <span class="connection-dot" id="dot-gemini"></span>
                <span class="feature-badge new">NEW</span>
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <defs>
                        <linearGradient id="geminiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#4285F4" />
                            <stop offset="50%" style="stop-color:#9B72CB" />
                            <stop offset="100%" style="stop-color:#D96570" />
                        </linearGradient>
                    </defs>
                    <path fill="url(#geminiGrad)"
                        d="M12 2L14.5 9L22 9L16 13.5L18 21L12 17L6 21L8 13.5L2 9L9.5 9L12 2Z" />
                </svg>
                <span class="tooltip">Gemini (100+ messages!)</span>
            </button>
            <!-- Grok - X style -->
            <button class="nav-btn tooltip-wrapper" data-platform="grok" title="Grok">
                <span class="connection-dot" id="dot-grok"></span>
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <path fill="#ffffff"
                        d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                </svg>
                <span class="tooltip">Grok</span>
            </button>
            <!-- DeepSeek - Deep blue/whale style -->
            <button class="nav-btn tooltip-wrapper" data-platform="deepseek" title="DeepSeek">
                <span class="connection-dot" id="dot-deepseek"></span>
                <span class="feature-badge hot">HOT</span>
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <defs>
                        <linearGradient id="deepseekGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#4F46E5" />
                            <stop offset="100%" style="stop-color:#06B6D4" />
                        </linearGradient>
                    </defs>
                    <circle cx="12" cy="12" r="10" fill="url(#deepseekGrad)" />
                    <path d="M8 12c0-2.2 1.8-4 4-4M16 12c0 2.2-1.8 4-4 4" stroke="white" stroke-width="2" fill="none"
                        stroke-linecap="round" />
                    <circle cx="10" cy="10" r="1.5" fill="white" />
                    <circle cx="14" cy="14" r="1.5" fill="white" />
                </svg>
                <span class="tooltip">DeepSeek</span>
            </button>
        </nav>

        <!-- Quick Actions -->
        <main>
            <div class="quick-actions">
                <!-- Export Dropdown -->
                <div class="export-dropdown btn-with-badge">
                    <button id="exportBtn" class="primary-btn premium">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" x2="12" y1="15" y2="3"></line>
                        </svg>
                        <span>Export</span>
                        <svg class="dropdown-chevron" viewBox="0 0 24 24" width="14" height="14" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="dropdown-menu" id="exportMenu">
                        <button data-format="markdown" class="dropdown-item">
                            <span class="icon">üìù</span> Markdown (.md)
                        </button>
                        <button data-format="json" class="dropdown-item">
                            <span class="icon">üìä</span> JSON (.json)
                        </button>
                        <button data-format="html" class="dropdown-item">
                            <span class="icon">üåê</span> HTML (.html)
                        </button>
                        <button data-format="txt" class="dropdown-item">
                            <span class="icon">üìÑ</span> Plain Text (.txt)
                        </button>
                        <button data-format="pdf" class="dropdown-item">
                            <span class="icon">üìï</span> PDF (Print)
                        </button>
                    </div>
                </div>

                <div class="btn-with-badge">
                    <button id="saveToNotionBtn" class="primary-btn notion-btn">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                            </path>
                            <path d="M8 2v4"></path>
                            <path d="M16 2v4"></path>
                            <path d="M12 11v6"></path>
                            <path d="M9 14h6"></path>
                        </svg>
                        <span>Save to Notion</span>
                    </button>
                </div>

                <div class="btn-with-badge">
                    <span class="feature-badge recommended">‚òÖ</span>
                    <button id="openDashboard" class="secondary-btn">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"></rect>
                            <rect x="14" y="3" width="7" height="7"></rect>
                            <rect x="14" y="14" width="7" height="7"></rect>
                            <rect x="3" y="14" width="7" height="7"></rect>
                        </svg>
                        <span>Open Dashboard</span>
                    </button>
                </div>
            </div>

            <!-- Use Dashboard hint -->
            <div class="dashboard-hint">
                <span>üí° Use Dashboard for batch exports</span>
            </div>

            <!-- Auto-Sync Status -->
            <div class="sync-status">
                <div class="sync-info">
                    <span class="label">Auto-Sync:</span>
                    <span id="syncStatus" class="status off">OFF</span>
                </div>
                <button id="toggleSync" class="toggle-btn">Toggle</button>
            </div>

            <!-- Status Message -->
            <div id="status" class="status-message"></div>
        </main>

        <!-- Footer -->
        <footer>
            <span class="version">v5.0.0</span>
            <span class="separator">‚Ä¢</span>
            <span class="enterprise">Enterprise Edition</span>
        </footer>
    </div>

    <script src="toast.js"></script>
    <script src="export-manager.js"></script>
    <script src="notion-picker.js"></script>
    <script src="popup.js"></script>
</body>

</html>