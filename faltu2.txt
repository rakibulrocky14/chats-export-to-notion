import {c as B, r as l, j as n, i as _, b as x, a as Ut, d as Ht, e as Vt, C as Gt, F as pe, S as Wt, g as Jt} from "./chunk-QIZ4XBKF-CNASw5nw.js";
const Yt = [["path", {
    d: "m12 19-7-7 7-7",
    key: "1l729n"
}], ["path", {
    d: "M19 12H5",
    key: "x3x0zl"
}]]
  , Kt = B("arrow-left", Yt);
const Qt = [["path", {
    d: "M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",
    key: "k3hazp"
}], ["path", {
    d: "M8 11h8",
    key: "vwpz6n"
}], ["path", {
    d: "M8 7h6",
    key: "1f0q6e"
}]]
  , Zt = B("book-text", Qt);
const Xt = [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["line", {
    x1: "12",
    x2: "12",
    y1: "8",
    y2: "12",
    key: "1pkeuh"
}], ["line", {
    x1: "12",
    x2: "12.01",
    y1: "16",
    y2: "16",
    key: "4dfq90"
}]]
  , it = B("circle-alert", Xt);
const es = [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",
    key: "1u773s"
}], ["path", {
    d: "M12 17h.01",
    key: "p32p05"
}]]
  , ts = B("circle-question-mark", es);
const ss = [["path", {
    d: "M12 6v6l4 2",
    key: "mmk7yg"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}]]
  , os = B("clock", ss);
const ns = [["rect", {
    width: "14",
    height: "14",
    x: "8",
    y: "8",
    rx: "2",
    ry: "2",
    key: "17jyea"
}], ["path", {
    d: "M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",
    key: "zix9uf"
}]]
  , as = B("copy", ns);
const rs = [["ellipse", {
    cx: "12",
    cy: "5",
    rx: "9",
    ry: "3",
    key: "msslwz"
}], ["path", {
    d: "M3 5V19A9 3 0 0 0 21 19V5",
    key: "1wlel7"
}], ["path", {
    d: "M3 12A9 3 0 0 0 21 12",
    key: "mv7ke4"
}]]
  , fe = B("database", rs);
const is = [["path", {
    d: "M15 3h6v6",
    key: "1q9fwt"
}], ["path", {
    d: "M10 14 21 3",
    key: "gplh6r"
}], ["path", {
    d: "M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",
    key: "a6xqqp"
}]]
  , ct = B("external-link", is);
const cs = [["circle", {
    cx: "11.5",
    cy: "12.5",
    r: "2.5",
    key: "1ea5ju"
}], ["path", {
    d: "M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",
    key: "1kt360"
}], ["path", {
    d: "M13.3 14.3 15 16",
    key: "1y4v1n"
}]]
  , Be = B("folder-search-2", cs);
const ls = [["path", {
    d: "M21 12a9 9 0 1 1-6.219-8.56",
    key: "13zald"
}]]
  , ds = B("loader-circle", ls);
const us = [["path", {
    d: "M12 2v4",
    key: "3427ic"
}], ["path", {
    d: "m16.2 7.8 2.9-2.9",
    key: "r700ao"
}], ["path", {
    d: "M18 12h4",
    key: "wj9ykh"
}], ["path", {
    d: "m16.2 16.2 2.9 2.9",
    key: "1bxg5t"
}], ["path", {
    d: "M12 18v4",
    key: "jadmvz"
}], ["path", {
    d: "m4.9 19.1 2.9-2.9",
    key: "bwix9q"
}], ["path", {
    d: "M2 12h4",
    key: "j09sii"
}], ["path", {
    d: "m4.9 4.9 2.9 2.9",
    key: "giyufr"
}]]
  , hs = B("loader", us);
const ps = [["path", {
    d: "M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",
    key: "v9h5vc"
}], ["path", {
    d: "M21 3v5h-5",
    key: "1q7to0"
}], ["path", {
    d: "M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",
    key: "3uifl3"
}], ["path", {
    d: "M8 16H3v5",
    key: "1cv678"
}]]
  , fs = B("refresh-cw", ps);
const ms = [["path", {
    d: "M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",
    key: "1c8476"
}], ["path", {
    d: "M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",
    key: "1ydtos"
}], ["path", {
    d: "M7 3v4a1 1 0 0 0 1 1h7",
    key: "t51u73"
}]]
  , gs = B("save", ms);
const ys = [["path", {
    d: "m21 21-4.34-4.34",
    key: "14j7rj"
}], ["circle", {
    cx: "11",
    cy: "11",
    r: "8",
    key: "4ej97u"
}]]
  , xs = B("search", ys);
const bs = [["path", {
    d: "M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",
    key: "1dfntj"
}], ["path", {
    d: "M15 3v5a1 1 0 0 0 1 1h5",
    key: "6s6qgf"
}]]
  , ws = B("sticky-note", bs);
const vs = [["path", {
    d: "M18 6 6 18",
    key: "1bl5f8"
}], ["path", {
    d: "m6 6 12 12",
    key: "d8bk6v"
}]]
  , _s = B("x", vs)
  , ks = "_horizontalScrollContainer_nqkav_1"
  , Ss = "_scrollContent_nqkav_9"
  , js = "_scrollInner_nqkav_24"
  , Cs = "_scrollBtn_nqkav_31"
  , Ts = "_scrollLeft_nqkav_62"
  , Ns = "_scrollRight_nqkav_67"
  , oe = {
    horizontalScrollContainer: ks,
    scrollContent: Ss,
    scrollInner: js,
    scrollBtn: Cs,
    scrollLeft: Ts,
    scrollRight: Ns
}
  , Is = ({children: t, scrollAmount: e=120, leftLabel: s="Scroll left", rightLabel: o="Scroll right", autoHide: a=!0, gap: r=8, visibleItems: i=4, itemWidth: c=36, leftIcon: d, rightIcon: u}) => {
    const [p,f] = l.useState(!1)
      , [g,y] = l.useState(!1)
      , [A,q] = l.useState(!1)
      , j = l.useRef(null)
      , F = l.useRef(null)
      , H = `${i * c + (i - 1) * r}px`
      , k = l.useCallback( () => {
        if (!j.current || !F.current)
            return;
        const V = j.current
          , X = F.current;
        y(V.scrollLeft > 0),
        q(V.scrollLeft < X.scrollWidth - V.clientWidth)
    }
    , [])
      , R = l.useCallback( () => {
        j.current && j.current.scrollBy({
            left: -e,
            behavior: "smooth"
        })
    }
    , [e])
      , ie = l.useCallback( () => {
        j.current && j.current.scrollBy({
            left: e,
            behavior: "smooth"
        })
    }
    , [e])
      , h = l.useCallback( () => {
        setTimeout( () => {
            k()
        }
        , 0)
    }
    , [k]);
    l.useEffect( () => {
        h();
        const V = () => k();
        return window.addEventListener("resize", V),
        () => {
            window.removeEventListener("resize", V)
        }
    }
    , [h, k]),
    l.useEffect( () => {
        h()
    }
    , [t, h]);
    const w = n.jsx("svg", {
        width: "12",
        height: "12",
        viewBox: "0 0 24 24",
        fill: "none",
        stroke: "currentColor",
        strokeWidth: "2",
        children: n.jsx("polyline", {
            points: "15,18 9,12 15,6"
        })
    })
      , ce = n.jsx("svg", {
        width: "12",
        height: "12",
        viewBox: "0 0 24 24",
        fill: "none",
        stroke: "currentColor",
        strokeWidth: "2",
        children: n.jsx("polyline", {
            points: "9,18 15,12 9,6"
        })
    });
    return n.jsxs("div", {
        className: oe.horizontalScrollContainer,
        onMouseEnter: () => f(!0),
        onMouseLeave: () => f(!1),
        children: [p && g && n.jsx("button", {
            className: `${oe.scrollBtn} ${oe.scrollLeft}`,
            onClick: R,
            "aria-label": s,
            children: d || w
        }), n.jsx("div", {
            ref: j,
            className: oe.scrollContent,
            onScroll: k,
            style: {
                maxWidth: H
            },
            children: n.jsx("div", {
                ref: F,
                className: oe.scrollInner,
                style: {
                    gap: `${r}px`
                },
                children: t
            })
        }), p && A && n.jsx("button", {
            className: `${oe.scrollBtn} ${oe.scrollRight}`,
            onClick: ie,
            "aria-label": o,
            children: u || ce
        })]
    })
}
  , Bs = "_questionPrompt_1qrxy_2"
  , Rs = "_icon_1qrxy_11"
  , Es = "_tooltip_1qrxy_19"
  , Ps = "_tooltipContent_1qrxy_35"
  , As = "_tooltipArrow_1qrxy_53"
  , Ms = "_top_1qrxy_60"
  , zs = "_bottom_1qrxy_79"
  , $s = "_left_1qrxy_98"
  , Ds = "_right_1qrxy_117"
  , de = {
    questionPrompt: Bs,
    icon: Rs,
    tooltip: Es,
    tooltipContent: Ps,
    tooltipArrow: As,
    top: Ms,
    bottom: zs,
    left: $s,
    right: Ds,
    "top-left": "_top-left_1qrxy_137",
    "top-right": "_top-right_1qrxy_155",
    "bottom-left": "_bottom-left_1qrxy_173",
    "bottom-right": "_bottom-right_1qrxy_191"
}
  , Ls = ({tooltip: t, position: e="top", size: s=12, className: o="", width: a, maxWidth: r}) => {
    const i = {};
    return a && (i["--tooltip-width"] = typeof a == "number" ? `${a}px` : a),
    r && (i["--tooltip-max-width"] = typeof r == "number" ? `${r}px` : r),
    n.jsxs("div", {
        className: `${de.questionPrompt} ${o}`,
        children: [n.jsx(ts, {
            size: s,
            className: de.icon
        }), n.jsxs("div", {
            className: `${de.tooltip} ${de[e]}`,
            children: [n.jsx("div", {
                className: de.tooltipContent,
                style: i,
                children: t
            }), n.jsx("div", {
                className: de.tooltipArrow
            })]
        })]
    })
}
  , qs = "https://www.saveai.net"
  , Fs = "_popupContainer_1g8ec_2"
  , Os = "_userBar_1g8ec_15"
  , Us = "_userInfo_1g8ec_24"
  , Hs = "_title_1g8ec_49"
  , Vs = "_navigationBar_1g8ec_58"
  , Gs = "_navSite_1g8ec_66"
  , Ws = "_active_1g8ec_88"
  , Js = "_connected_1g8ec_94"
  , Ys = "_connectionDot_1g8ec_98"
  , Ks = "_chatStatus_1g8ec_108"
  , Qs = "_homeStatus_1g8ec_113"
  , Zs = "_featuresGrid_1g8ec_165"
  , Xs = "_topActions_1g8ec_173"
  , eo = "_featureCard_1g8ec_178"
  , to = "_featured_1g8ec_198"
  , so = "_featureInfo_1g8ec_208"
  , oo = "_iconWrapper_1g8ec_226"
  , no = "_bottomActions_1g8ec_294"
  , ao = "_actionsGrid_1g8ec_304"
  , ro = "_quickActionsSection_1g8ec_310"
  , io = "_sectionTitle_1g8ec_314"
  , co = "_notionSection_1g8ec_330"
  , lo = "_tutorialBtn_1g8ec_335"
  , uo = "_settingsBtn_1g8ec_363"
  , m = {
    popupContainer: Fs,
    userBar: Os,
    userInfo: Us,
    title: Hs,
    navigationBar: Vs,
    navSite: Gs,
    active: Ws,
    connected: Js,
    connectionDot: Ys,
    chatStatus: Ks,
    homeStatus: Qs,
    featuresGrid: Zs,
    topActions: Xs,
    featureCard: eo,
    featured: to,
    featureInfo: so,
    iconWrapper: oo,
    bottomActions: no,
    actionsGrid: ao,
    quickActionsSection: ro,
    sectionTitle: io,
    notionSection: co,
    tutorialBtn: lo,
    settingsBtn: uo
}
  , ho = _.t.bind(_)
  , Qe = ({type: t="recommended", text: e}) => {
    const o = {
        position: "absolute",
        top: "-2px",
        right: "6px",
        fontSize: "9px",
        padding: "2px 6px",
        borderRadius: "8px",
        fontWeight: "500",
        zIndex: 10,
        ...( () => {
            switch (t) {
            case "recommended":
                return {
                    background: "#ef4444",
                    color: "white"
                };
            case "hot":
                return {
                    background: "#f59e0b",
                    color: "white"
                };
            case "new":
                return {
                    background: "#10b981",
                    color: "white"
                };
            default:
                return {
                    background: "#ef4444",
                    color: "white"
                }
            }
        }
        )()
    }
      , a = e || ho("ui.recommended", "推荐");
    return n.jsx("div", {
        style: o,
        children: a
    })
}
  , po = "_section_g13ks_1"
  , fo = "_select_g13ks_7"
  , mo = "_overlay_g13ks_12"
  , go = "_loading_g13ks_33"
  , yo = "_loadingIcon_g13ks_51"
  , xo = "_loadingText_g13ks_56"
  , bo = "_content_g13ks_60"
  , wo = "_saveButton_g13ks_69"
  , vo = "_saving_g13ks_92"
  , W = {
    section: po,
    select: fo,
    overlay: mo,
    loading: go,
    loadingIcon: yo,
    loadingText: xo,
    content: bo,
    saveButton: wo,
    saving: vo
};
let _o = {
    data: ""
}
  , ko = t => {
    if (typeof window == "object") {
        let e = (t ? t.querySelector("#_goober") : window._goober) || Object.assign(document.createElement("style"), {
            innerHTML: " ",
            id: "_goober"
        });
        return e.nonce = window.__nonce__,
        e.parentNode || (t || document.head).appendChild(e),
        e.firstChild
    }
    return t || _o
}
  , So = /(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g
  , jo = /\/\*[^]*?\*\/|  +/g
  , Ze = /\n+/g
  , te = (t, e) => {
    let s = ""
      , o = ""
      , a = "";
    for (let r in t) {
        let i = t[r];
        r[0] == "@" ? r[1] == "i" ? s = r + " " + i + ";" : o += r[1] == "f" ? te(i, r) : r + "{" + te(i, r[1] == "k" ? "" : e) + "}" : typeof i == "object" ? o += te(i, e ? e.replace(/([^,])+/g, c => r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g, d => /&/.test(d) ? d.replace(/&/g, c) : c ? c + " " + d : d)) : r) : i != null && (r = /^--/.test(r) ? r : r.replace(/[A-Z]/g, "-$&").toLowerCase(),
        a += te.p ? te.p(r, i) : r + ":" + i + ";")
    }
    return s + (e && a ? e + "{" + a + "}" : a) + o
}
  , J = {}
  , lt = t => {
    if (typeof t == "object") {
        let e = "";
        for (let s in t)
            e += s + lt(t[s]);
        return e
    }
    return t
}
  , Co = (t, e, s, o, a) => {
    let r = lt(t)
      , i = J[r] || (J[r] = (d => {
        let u = 0
          , p = 11;
        for (; u < d.length; )
            p = 101 * p + d.charCodeAt(u++) >>> 0;
        return "go" + p
    }
    )(r));
    if (!J[i]) {
        let d = r !== t ? t : (u => {
            let p, f, g = [{}];
            for (; p = So.exec(u.replace(jo, "")); )
                p[4] ? g.shift() : p[3] ? (f = p[3].replace(Ze, " ").trim(),
                g.unshift(g[0][f] = g[0][f] || {})) : g[0][p[1]] = p[2].replace(Ze, " ").trim();
            return g[0]
        }
        )(t);
        J[i] = te(a ? {
            ["@keyframes " + i]: d
        } : d, s ? "" : "." + i)
    }
    let c = s && J.g ? J.g : null;
    return s && (J.g = J[i]),
    ( (d, u, p, f) => {
        f ? u.data = u.data.replace(f, d) : u.data.indexOf(d) === -1 && (u.data = p ? d + u.data : u.data + d)
    }
    )(J[i], e, o, c),
    i
}
  , To = (t, e, s) => t.reduce( (o, a, r) => {
    let i = e[r];
    if (i && i.call) {
        let c = i(s)
          , d = c && c.props && c.props.className || /^go/.test(c) && c;
        i = d ? "." + d : c && typeof c == "object" ? c.props ? "" : te(c, "") : c === !1 ? "" : c
    }
    return o + a + (i ?? "")
}
, "");
function Ne(t) {
    let e = this || {}
      , s = t.call ? t(e.p) : t;
    return Co(s.unshift ? s.raw ? To(s, [].slice.call(arguments, 1), e.p) : s.reduce( (o, a) => Object.assign(o, a && a.call ? a(e.p) : a), {}) : s, ko(e.target), e.g, e.o, e.k)
}
let dt, Le, qe;
Ne.bind({
    g: 1
});
let Z = Ne.bind({
    k: 1
});
function No(t, e, s, o) {
    te.p = e,
    dt = t,
    Le = s,
    qe = o
}
function se(t, e) {
    let s = this || {};
    return function() {
        let o = arguments;
        function a(r, i) {
            let c = Object.assign({}, r)
              , d = c.className || a.className;
            s.p = Object.assign({
                theme: Le && Le()
            }, c),
            s.o = / *go\d+/.test(d),
            c.className = Ne.apply(s, o) + (d ? " " + d : "");
            let u = t;
            return t[0] && (u = c.as || t,
            delete c.as),
            qe && u[0] && qe(c),
            dt(u, c)
        }
        return a
    }
}
var Io = t => typeof t == "function"
  , Te = (t, e) => Io(t) ? t(e) : t
  , Bo = ( () => {
    let t = 0;
    return () => (++t).toString()
}
)()
  , ut = ( () => {
    let t;
    return () => {
        if (t === void 0 && typeof window < "u") {
            let e = matchMedia("(prefers-reduced-motion: reduce)");
            t = !e || e.matches
        }
        return t
    }
}
)()
  , Ro = 20
  , He = "default"
  , ht = (t, e) => {
    let {toastLimit: s} = t.settings;
    switch (e.type) {
    case 0:
        return {
            ...t,
            toasts: [e.toast, ...t.toasts].slice(0, s)
        };
    case 1:
        return {
            ...t,
            toasts: t.toasts.map(i => i.id === e.toast.id ? {
                ...i,
                ...e.toast
            } : i)
        };
    case 2:
        let {toast: o} = e;
        return ht(t, {
            type: t.toasts.find(i => i.id === o.id) ? 1 : 0,
            toast: o
        });
    case 3:
        let {toastId: a} = e;
        return {
            ...t,
            toasts: t.toasts.map(i => i.id === a || a === void 0 ? {
                ...i,
                dismissed: !0,
                visible: !1
            } : i)
        };
    case 4:
        return e.toastId === void 0 ? {
            ...t,
            toasts: []
        } : {
            ...t,
            toasts: t.toasts.filter(i => i.id !== e.toastId)
        };
    case 5:
        return {
            ...t,
            pausedAt: e.time
        };
    case 6:
        let r = e.time - (t.pausedAt || 0);
        return {
            ...t,
            pausedAt: void 0,
            toasts: t.toasts.map(i => ({
                ...i,
                pauseDuration: i.pauseDuration + r
            }))
        }
    }
}
  , je = []
  , pt = {
    toasts: [],
    pausedAt: void 0,
    settings: {
        toastLimit: Ro
    }
}
  , U = {}
  , ft = (t, e=He) => {
    U[e] = ht(U[e] || pt, t),
    je.forEach( ([s,o]) => {
        s === e && o(U[e])
    }
    )
}
  , mt = t => Object.keys(U).forEach(e => ft(t, e))
  , Eo = t => Object.keys(U).find(e => U[e].toasts.some(s => s.id === t))
  , Ie = (t=He) => e => {
    ft(e, t)
}
  , Po = {
    blank: 4e3,
    error: 4e3,
    success: 2e3,
    loading: 1 / 0,
    custom: 4e3
}
  , Ao = (t={}, e=He) => {
    let[s,o] = l.useState(U[e] || pt)
      , a = l.useRef(U[e]);
    l.useEffect( () => (a.current !== U[e] && o(U[e]),
    je.push([e, o]),
    () => {
        let i = je.findIndex( ([c]) => c === e);
        i > -1 && je.splice(i, 1)
    }
    ), [e]);
    let r = s.toasts.map(i => {
        var c, d, u;
        return {
            ...t,
            ...t[i.type],
            ...i,
            removeDelay: i.removeDelay || ((c = t[i.type]) == null ? void 0 : c.removeDelay) || t?.removeDelay,
            duration: i.duration || ((d = t[i.type]) == null ? void 0 : d.duration) || t?.duration || Po[i.type],
            style: {
                ...t.style,
                ...(u = t[i.type]) == null ? void 0 : u.style,
                ...i.style
            }
        }
    }
    );
    return {
        ...s,
        toasts: r
    }
}
  , Mo = (t, e="blank", s) => ({
    createdAt: Date.now(),
    visible: !0,
    dismissed: !1,
    type: e,
    ariaProps: {
        role: "status",
        "aria-live": "polite"
    },
    message: t,
    pauseDuration: 0,
    ...s,
    id: s?.id || Bo()
})
  , ge = t => (e, s) => {
    let o = Mo(e, t, s);
    return Ie(o.toasterId || Eo(o.id))({
        type: 2,
        toast: o
    }),
    o.id
}
  , S = (t, e) => ge("blank")(t, e);
S.error = ge("error");
S.success = ge("success");
S.loading = ge("loading");
S.custom = ge("custom");
S.dismiss = (t, e) => {
    let s = {
        type: 3,
        toastId: t
    };
    e ? Ie(e)(s) : mt(s)
}
;
S.dismissAll = t => S.dismiss(void 0, t);
S.remove = (t, e) => {
    let s = {
        type: 4,
        toastId: t
    };
    e ? Ie(e)(s) : mt(s)
}
;
S.removeAll = t => S.remove(void 0, t);
S.promise = (t, e, s) => {
    let o = S.loading(e.loading, {
        ...s,
        ...s?.loading
    });
    return typeof t == "function" && (t = t()),
    t.then(a => {
        let r = e.success ? Te(e.success, a) : void 0;
        return r ? S.success(r, {
            id: o,
            ...s,
            ...s?.success
        }) : S.dismiss(o),
        a
    }
    ).catch(a => {
        let r = e.error ? Te(e.error, a) : void 0;
        r ? S.error(r, {
            id: o,
            ...s,
            ...s?.error
        }) : S.dismiss(o)
    }
    ),
    t
}
;
var zo = 1e3
  , $o = (t, e="default") => {
    let {toasts: s, pausedAt: o} = Ao(t, e)
      , a = l.useRef(new Map).current
      , r = l.useCallback( (f, g=zo) => {
        if (a.has(f))
            return;
        let y = setTimeout( () => {
            a.delete(f),
            i({
                type: 4,
                toastId: f
            })
        }
        , g);
        a.set(f, y)
    }
    , []);
    l.useEffect( () => {
        if (o)
            return;
        let f = Date.now()
          , g = s.map(y => {
            if (y.duration === 1 / 0)
                return;
            let A = (y.duration || 0) + y.pauseDuration - (f - y.createdAt);
            if (A < 0) {
                y.visible && S.dismiss(y.id);
                return
            }
            return setTimeout( () => S.dismiss(y.id, e), A)
        }
        );
        return () => {
            g.forEach(y => y && clearTimeout(y))
        }
    }
    , [s, o, e]);
    let i = l.useCallback(Ie(e), [e])
      , c = l.useCallback( () => {
        i({
            type: 5,
            time: Date.now()
        })
    }
    , [i])
      , d = l.useCallback( (f, g) => {
        i({
            type: 1,
            toast: {
                id: f,
                height: g
            }
        })
    }
    , [i])
      , u = l.useCallback( () => {
        o && i({
            type: 6,
            time: Date.now()
        })
    }
    , [o, i])
      , p = l.useCallback( (f, g) => {
        let {reverseOrder: y=!1, gutter: A=8, defaultPosition: q} = g || {}
          , j = s.filter(k => (k.position || q) === (f.position || q) && k.height)
          , F = j.findIndex(k => k.id === f.id)
          , H = j.filter( (k, R) => R < F && k.visible).length;
        return j.filter(k => k.visible).slice(...y ? [H + 1] : [0, H]).reduce( (k, R) => k + (R.height || 0) + A, 0)
    }
    , [s]);
    return l.useEffect( () => {
        s.forEach(f => {
            if (f.dismissed)
                r(f.id, f.removeDelay);
            else {
                let g = a.get(f.id);
                g && (clearTimeout(g),
                a.delete(f.id))
            }
        }
        )
    }
    , [s, r]),
    {
        toasts: s,
        handlers: {
            updateHeight: d,
            startPause: c,
            endPause: u,
            calculateOffset: p
        }
    }
}
  , Do = Z`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`
  , Lo = Z`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`
  , qo = Z`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`
  , Fo = se("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t => t.primary || "#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Do} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Lo} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t => t.secondary || "#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${qo} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`
  , Oo = Z`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`
  , Uo = se("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t => t.secondary || "#e0e0e0"};
  border-right-color: ${t => t.primary || "#616161"};
  animation: ${Oo} 1s linear infinite;
`
  , Ho = Z`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`
  , Vo = Z`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`
  , Go = se("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t => t.primary || "#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ho} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Vo} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t => t.secondary || "#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`
  , Wo = se("div")`
  position: absolute;
`
  , Jo = se("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`
  , Yo = Z`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`
  , Ko = se("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Yo} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`
  , Qo = ({toast: t}) => {
    let {icon: e, type: s, iconTheme: o} = t;
    return e !== void 0 ? typeof e == "string" ? l.createElement(Ko, null, e) : e : s === "blank" ? null : l.createElement(Jo, null, l.createElement(Uo, {
        ...o
    }), s !== "loading" && l.createElement(Wo, null, s === "error" ? l.createElement(Fo, {
        ...o
    }) : l.createElement(Go, {
        ...o
    })))
}
  , Zo = t => `
0% {transform: translate3d(0,${t * -200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`
  , Xo = t => `
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t * -150}%,-1px) scale(.6); opacity:0;}
`
  , en = "0%{opacity:0;} 100%{opacity:1;}"
  , tn = "0%{opacity:1;} 100%{opacity:0;}"
  , sn = se("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`
  , on = se("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`
  , nn = (t, e) => {
    let s = t.includes("top") ? 1 : -1
      , [o,a] = ut() ? [en, tn] : [Zo(s), Xo(s)];
    return {
        animation: e ? `${Z(o)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards` : `${Z(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`
    }
}
  , an = l.memo( ({toast: t, position: e, style: s, children: o}) => {
    let a = t.height ? nn(t.position || e || "top-center", t.visible) : {
        opacity: 0
    }
      , r = l.createElement(Qo, {
        toast: t
    })
      , i = l.createElement(on, {
        ...t.ariaProps
    }, Te(t.message, t));
    return l.createElement(sn, {
        className: t.className,
        style: {
            ...a,
            ...s,
            ...t.style
        }
    }, typeof o == "function" ? o({
        icon: r,
        message: i
    }) : l.createElement(l.Fragment, null, r, i))
}
);
No(l.createElement);
var rn = ({id: t, className: e, style: s, onHeightUpdate: o, children: a}) => {
    let r = l.useCallback(i => {
        if (i) {
            let c = () => {
                let d = i.getBoundingClientRect().height;
                o(t, d)
            }
            ;
            c(),
            new MutationObserver(c).observe(i, {
                subtree: !0,
                childList: !0,
                characterData: !0
            })
        }
    }
    , [t, o]);
    return l.createElement("div", {
        ref: r,
        className: e,
        style: s
    }, a)
}
  , cn = (t, e) => {
    let s = t.includes("top")
      , o = s ? {
        top: 0
    } : {
        bottom: 0
    }
      , a = t.includes("center") ? {
        justifyContent: "center"
    } : t.includes("right") ? {
        justifyContent: "flex-end"
    } : {};
    return {
        left: 0,
        right: 0,
        display: "flex",
        position: "absolute",
        transition: ut() ? void 0 : "all 230ms cubic-bezier(.21,1.02,.73,1)",
        transform: `translateY(${e * (s ? 1 : -1)}px)`,
        ...o,
        ...a
    }
}
  , ln = Ne`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`
  , xe = 16
  , dn = ({reverseOrder: t, position: e="top-center", toastOptions: s, gutter: o, children: a, toasterId: r, containerStyle: i, containerClassName: c}) => {
    let {toasts: d, handlers: u} = $o(s, r);
    return l.createElement("div", {
        "data-rht-toaster": r || "",
        style: {
            position: "fixed",
            zIndex: 9999,
            top: xe,
            left: xe,
            right: xe,
            bottom: xe,
            pointerEvents: "none",
            ...i
        },
        className: c,
        onMouseEnter: u.startPause,
        onMouseLeave: u.endPause
    }, d.map(p => {
        let f = p.position || e
          , g = u.calculateOffset(p, {
            reverseOrder: t,
            gutter: o,
            defaultPosition: e
        })
          , y = cn(f, g);
        return l.createElement(rn, {
            id: p.id,
            key: p.id,
            onHeightUpdate: u.updateHeight,
            className: p.visible ? ln : "",
            style: y
        }, p.type === "custom" ? Te(p.message, p) : a ? a(p) : l.createElement(an, {
            toast: p,
            position: f
        }))
    }
    ))
}
  , $ = S;
const Re = _.t.bind(_)
  , un = ["chat.openai.com", "chatgpt.com", "gemini.google.com", "claude.ai", "grok.com", "chat.deepseek.com", "yuanbao.tencent.com", "www.google.com"]
  , gt = [{
    name: "ChatGPT",
    url: "https://chat.openai.com",
    icon: "",
    hosts: ["chat.openai.com", "chatgpt.com"],
    chatPaths: ["/c", "/g/"]
}, {
    name: "Gemini",
    url: "https://gemini.google.com",
    icon: "",
    hosts: ["gemini.google.com"],
    chatPaths: ["/app/", "/gem/"]
}, {
    name: "Claude",
    url: "https://claude.ai",
    icon: "",
    hosts: ["claude.ai"],
    chatPaths: ["/chat", "/c"]
}, {
    name: "Grok",
    url: "https://grok.com",
    icon: "",
    hosts: ["grok.com"],
    chatPaths: ["/chat", "/c"]
}, {
    name: "DeepSeek",
    url: "https://chat.deepseek.com",
    icon: "",
    hosts: ["chat.deepseek.com"],
    chatPaths: ["/a/chat"]
}, {
    name: "YuanBao",
    url: "https://yuanbao.tencent.com",
    icon: "",
    hosts: ["yuanbao.tencent.com"],
    chatPaths: ["/chat"]
}]
  , yt = async () => {
    const t = await x.tabs.query({
        active: !0,
        currentWindow: !0
    })
      , e = {
        isSupported: !1,
        isInChatPage: !1,
        currentSiteName: "",
        connectionStatus: "",
        host: "",
        pathname: ""
    };
    if (!t[0] || !t[0].url)
        return e;
    const s = new URL(t[0].url)
      , o = s.host
      , a = s.pathname;
    if (!un.some(p => o.includes(p)))
        return {
            ...e,
            host: o,
            pathname: a
        };
    const i = gt.find(p => p.hosts.some(f => o.includes(f)))
      , c = i?.name || "";
    let d = !1
      , u = "";
    return i && (d = i.chatPaths.some(p => a.includes(p)),
    u = d ? "chat" : "home"),
    {
        isSupported: !0,
        isInChatPage: d,
        currentSiteName: c,
        connectionStatus: u,
        host: o,
        pathname: a
    }
}
  , ee = async () => {
    const t = await yt();
    return t.isSupported ? t.isInChatPage ? {
        canPerform: !0
    } : {
        canPerform: !1,
        errorMessage: t.connectionStatus === "home" ? Re("hint.goToChatPage", "请进入聊天页面使用导出功能") : Re("hint.goToAIChatPage", "请在AI聊天页面使用")
    } : {
        canPerform: !1,
        errorMessage: Re("hint.unsupportedSite", "请在支持的AI聊天网站使用")
    }
}
;
var xt = Ut("popup")
  , Ve = Ht("popup", t => xt.postMessage(t));
xt.onMessage(Ve.handleMessage);
var {sendMessage: hn, onMessage: gr} = Ve;
Vt(Ve);
async function pn() {
    try {
        const t = await x.tabs.query({
            active: !0,
            currentWindow: !0
        });
        return t[0] && t[0].url ? new URL(t[0].url).host : ""
    } catch (t) {
        return console.error("Error getting active tab URL:", t),
        ""
    }
}
const P = async (t, e={}) => {
    try {
        const s = await x.tabs.query({
            active: !0,
            currentWindow: !0
        });
        if (!s[0] || s[0].id === void 0)
            return;
        x.tabs.sendMessage(s[0].id, {
            action: t,
            data: e
        })
    } catch (s) {
        console.error("Error sending message to active tab:", s)
    } finally {
        window.close()
    }
}
  , I = async (t, e) => {
    try {
        const s = await pn();
        hn("ga4-send-event", {
            eventName: t,
            params: {
                ...e,
                host_url: s
            }
        })
    } catch (s) {
        console.error(s)
    }
}
  , M = async t => {
    await I("click_action", {
        actionName: t
    })
}
;
class Fe extends Error {
    response;
    request;
    options;
    constructor(e, s, o) {
        const a = e.status || e.status === 0 ? e.status : ""
          , r = e.statusText ?? ""
          , i = `${a} ${r}`.trim()
          , c = i ? `status code ${i}` : "an unknown error";
        super(`Request failed with ${c}: ${s.method} ${s.url}`),
        this.name = "HTTPError",
        this.response = e,
        this.request = s,
        this.options = o
    }
}
class bt extends Error {
    name = "NonError";
    value;
    constructor(e) {
        let s = "Non-error value was thrown";
        try {
            typeof e == "string" ? s = e : e && typeof e == "object" && "message"in e && typeof e.message == "string" && (s = e.message)
        } catch {}
        super(s),
        this.value = e
    }
}
class Ee extends Error {
    name = "ForceRetryError";
    customDelay;
    code;
    customRequest;
    constructor(e) {
        const s = e?.cause ? e.cause instanceof Error ? e.cause : new bt(e.cause) : void 0;
        super(e?.code ? `Forced retry: ${e.code}` : "Forced retry", s ? {
            cause: s
        } : void 0),
        this.customDelay = e?.delay,
        this.code = e?.code,
        this.customRequest = e?.request
    }
}
const Xe = ( () => {
    let t = !1
      , e = !1;
    const s = typeof globalThis.ReadableStream == "function"
      , o = typeof globalThis.Request == "function";
    if (s && o)
        try {
            e = new globalThis.Request("https://empty.invalid",{
                body: new globalThis.ReadableStream,
                method: "POST",
                get duplex() {
                    return t = !0,
                    "half"
                }
            }).headers.has("Content-Type")
        } catch (a) {
            if (a instanceof Error && a.message === "unsupported BodyInit type")
                return !1;
            throw a
        }
    return t && !e
}
)()
  , fn = typeof globalThis.AbortController == "function"
  , wt = typeof globalThis.AbortSignal == "function" && typeof globalThis.AbortSignal.any == "function"
  , mn = typeof globalThis.ReadableStream == "function"
  , gn = typeof globalThis.FormData == "function"
  , vt = ["get", "post", "put", "patch", "head", "delete"]
  , yn = {
    json: "application/json",
    text: "text/*",
    formData: "multipart/form-data",
    arrayBuffer: "*/*",
    blob: "*/*",
    bytes: "*/*"
}
  , Pe = 2147483647
  , xn = new TextEncoder().encode("------WebKitFormBoundaryaxpyiPgbbPti10Rw").length
  , _t = Symbol("stop");
class kt {
    options;
    constructor(e) {
        this.options = e
    }
}
const bn = t => new kt(t)
  , wn = {
    json: !0,
    parseJson: !0,
    stringifyJson: !0,
    searchParams: !0,
    prefixUrl: !0,
    retry: !0,
    timeout: !0,
    hooks: !0,
    throwHttpErrors: !0,
    onDownloadProgress: !0,
    onUploadProgress: !0,
    fetch: !0,
    context: !0
}
  , vn = {
    next: !0
}
  , _n = {
    method: !0,
    headers: !0,
    body: !0,
    mode: !0,
    credentials: !0,
    cache: !0,
    redirect: !0,
    referrer: !0,
    referrerPolicy: !0,
    integrity: !0,
    keepalive: !0,
    signal: !0,
    window: !0,
    duplex: !0
}
  , kn = t => {
    if (!t)
        return 0;
    if (t instanceof FormData) {
        let e = 0;
        for (const [s,o] of t)
            e += xn,
            e += new TextEncoder().encode(`Content-Disposition: form-data; name="${s}"`).length,
            e += typeof o == "string" ? new TextEncoder().encode(o).length : o.size;
        return e
    }
    if (t instanceof Blob)
        return t.size;
    if (t instanceof ArrayBuffer)
        return t.byteLength;
    if (typeof t == "string")
        return new TextEncoder().encode(t).length;
    if (t instanceof URLSearchParams)
        return new TextEncoder().encode(t.toString()).length;
    if ("byteLength"in t)
        return t.byteLength;
    if (typeof t == "object" && t !== null)
        try {
            const e = JSON.stringify(t);
            return new TextEncoder().encode(e).length
        } catch {
            return 0
        }
    return 0
}
  , St = (t, e, s) => {
    let o, a = 0;
    return t.pipeThrough(new TransformStream({
        transform(r, i) {
            if (i.enqueue(r),
            o) {
                a += o.byteLength;
                let c = e === 0 ? 0 : a / e;
                c >= 1 && (c = 1 - Number.EPSILON),
                s?.({
                    percent: c,
                    totalBytes: Math.max(e, a),
                    transferredBytes: a
                }, o)
            }
            o = r
        },
        flush() {
            o && (a += o.byteLength,
            s?.({
                percent: 1,
                totalBytes: Math.max(e, a),
                transferredBytes: a
            }, o))
        }
    }))
}
  , Sn = (t, e) => {
    if (!t.body)
        return t;
    if (t.status === 204)
        return new Response(null,{
            status: t.status,
            statusText: t.statusText,
            headers: t.headers
        });
    const s = Math.max(0, Number(t.headers.get("content-length")) || 0);
    return new Response(St(t.body, s, e),{
        status: t.status,
        statusText: t.statusText,
        headers: t.headers
    })
}
  , jn = (t, e, s) => {
    if (!t.body)
        return t;
    const o = kn(s ?? t.body);
    return new Request(t,{
        duplex: "half",
        body: St(t.body, o, e)
    })
}
  , ae = t => t !== null && typeof t == "object"
  , be = (...t) => {
    for (const e of t)
        if ((!ae(e) || Array.isArray(e)) && e !== void 0)
            throw new TypeError("The `options` argument must be an object");
    return Ge({}, ...t)
}
  , jt = (t={}, e={}) => {
    const s = new globalThis.Headers(t)
      , o = e instanceof globalThis.Headers
      , a = new globalThis.Headers(e);
    for (const [r,i] of a.entries())
        o && i === "undefined" || i === void 0 ? s.delete(r) : s.set(r, i);
    return s
}
;
function we(t, e, s) {
    return Object.hasOwn(e, s) && e[s] === void 0 ? [] : Ge(t[s] ?? [], e[s] ?? [])
}
const Ct = (t={}, e={}) => ({
    beforeRequest: we(t, e, "beforeRequest"),
    beforeRetry: we(t, e, "beforeRetry"),
    afterResponse: we(t, e, "afterResponse"),
    beforeError: we(t, e, "beforeError")
})
  , Cn = (t, e) => {
    const s = new URLSearchParams;
    for (const o of [t, e])
        if (o !== void 0)
            if (o instanceof URLSearchParams)
                for (const [a,r] of o.entries())
                    s.append(a, r);
            else if (Array.isArray(o))
                for (const a of o) {
                    if (!Array.isArray(a) || a.length !== 2)
                        throw new TypeError("Array search parameters must be provided in [[key, value], ...] format");
                    s.append(String(a[0]), String(a[1]))
                }
            else if (ae(o))
                for (const [a,r] of Object.entries(o))
                    r !== void 0 && s.append(a, String(r));
            else {
                const a = new URLSearchParams(o);
                for (const [r,i] of a.entries())
                    s.append(r, i)
            }
    return s
}
  , Ge = (...t) => {
    let e = {}, s = {}, o = {}, a;
    const r = [];
    for (const i of t)
        if (Array.isArray(i))
            Array.isArray(e) || (e = []),
            e = [...e, ...i];
        else if (ae(i)) {
            for (let[c,d] of Object.entries(i)) {
                if (c === "signal" && d instanceof globalThis.AbortSignal) {
                    r.push(d);
                    continue
                }
                if (c === "context") {
                    if (d != null && (!ae(d) || Array.isArray(d)))
                        throw new TypeError("The `context` option must be an object");
                    e = {
                        ...e,
                        context: d == null ? {} : {
                            ...e.context,
                            ...d
                        }
                    };
                    continue
                }
                if (c === "searchParams") {
                    d == null ? a = void 0 : a = a === void 0 ? d : Cn(a, d);
                    continue
                }
                ae(d) && c in e && (d = Ge(e[c], d)),
                e = {
                    ...e,
                    [c]: d
                }
            }
            ae(i.hooks) && (o = Ct(o, i.hooks),
            e.hooks = o),
            ae(i.headers) && (s = jt(s, i.headers),
            e.headers = s)
        }
    return a !== void 0 && (e.searchParams = a),
    r.length > 0 && (r.length === 1 ? e.signal = r[0] : wt ? e.signal = AbortSignal.any(r) : e.signal = r.at(-1)),
    e.context === void 0 && (e.context = {}),
    e
}
  , Tn = t => vt.includes(t) ? t.toUpperCase() : t
  , Nn = ["get", "put", "head", "delete", "options", "trace"]
  , In = [408, 413, 429, 500, 502, 503, 504]
  , Bn = [413, 429, 503]
  , et = {
    limit: 2,
    methods: Nn,
    statusCodes: In,
    afterStatusCodes: Bn,
    maxRetryAfter: Number.POSITIVE_INFINITY,
    backoffLimit: Number.POSITIVE_INFINITY,
    delay: t => .3 * 2 ** (t - 1) * 1e3,
    jitter: void 0,
    retryOnTimeout: !1
}
  , Rn = (t={}) => {
    if (typeof t == "number")
        return {
            ...et,
            limit: t
        };
    if (t.methods && !Array.isArray(t.methods))
        throw new Error("retry.methods must be an array");
    if (t.statusCodes && !Array.isArray(t.statusCodes))
        throw new Error("retry.statusCodes must be an array");
    return {
        ...et,
        ...t
    }
}
;
class Oe extends Error {
    request;
    constructor(e) {
        super(`Request timed out: ${e.method} ${e.url}`),
        this.name = "TimeoutError",
        this.request = e
    }
}
async function En(t, e, s, o) {
    return new Promise( (a, r) => {
        const i = setTimeout( () => {
            s && s.abort(),
            r(new Oe(t))
        }
        , o.timeout);
        o.fetch(t, e).then(a).catch(r).then( () => {
            clearTimeout(i)
        }
        )
    }
    )
}
async function Pn(t, {signal: e}) {
    return new Promise( (s, o) => {
        e && (e.throwIfAborted(),
        e.addEventListener("abort", a, {
            once: !0
        }));
        function a() {
            clearTimeout(r),
            o(e.reason)
        }
        const r = setTimeout( () => {
            e?.removeEventListener("abort", a),
            s()
        }
        , t)
    }
    )
}
const An = (t, e) => {
    const s = {};
    for (const o in e)
        Object.hasOwn(e, o) && !(o in _n) && !(o in wn) && (!(o in t) || o in vn) && (s[o] = e[o]);
    return s
}
  , Mn = t => t === void 0 ? !1 : Array.isArray(t) ? t.length > 0 : t instanceof URLSearchParams ? t.size > 0 : typeof t == "object" ? Object.keys(t).length > 0 : typeof t == "string" ? t.trim().length > 0 : !!t;
function zn(t) {
    return t instanceof Fe || t?.name === Fe.name
}
function $n(t) {
    return t instanceof Oe || t?.name === Oe.name
}
class me {
    static create(e, s) {
        const o = new me(e,s)
          , a = async () => {
            if (typeof o.#e.timeout == "number" && o.#e.timeout > Pe)
                throw new RangeError(`The \`timeout\` option cannot be greater than ${Pe}`);
            await Promise.resolve();
            let i = await o.#m();
            for (const c of o.#e.hooks.afterResponse) {
                const d = o.#d(i.clone())
                  , u = await c(o.request, o.#i(), d, {
                    retryCount: o.#s
                });
                if (u instanceof globalThis.Response && (i = u),
                u instanceof kt)
                    throw await Promise.all([d.body?.cancel(), i.body?.cancel()]),
                    new Ee(u.options)
            }
            if (o.#d(i),
            !i.ok && (typeof o.#e.throwHttpErrors == "function" ? o.#e.throwHttpErrors(i.status) : o.#e.throwHttpErrors)) {
                let c = new Fe(i,o.request,o.#i());
                for (const d of o.#e.hooks.beforeError)
                    c = await d(c, {
                        retryCount: o.#s
                    });
                throw c
            }
            if (o.#e.onDownloadProgress) {
                if (typeof o.#e.onDownloadProgress != "function")
                    throw new TypeError("The `onDownloadProgress` option must be a function");
                if (!mn)
                    throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");
                return Sn(i.clone(), o.#e.onDownloadProgress)
            }
            return i
        }
          , r = o.#u(a).finally(async () => {
            const i = o.#a
              , c = [];
            i && !i.bodyUsed && c.push(i.body?.cancel()),
            o.request.bodyUsed || c.push(o.request.body?.cancel()),
            await Promise.all(c)
        }
        );
        for (const [i,c] of Object.entries(yn))
            i === "bytes" && typeof globalThis.Response?.prototype?.bytes != "function" || (r[i] = async () => {
                o.request.headers.set("accept", o.request.headers.get("accept") || c);
                const d = await r;
                if (i === "json") {
                    if (d.status === 204)
                        return "";
                    const u = await d.text();
                    return u === "" ? "" : s.parseJson ? s.parseJson(u) : JSON.parse(u)
                }
                return d[i]()
            }
            );
        return r
    }
    static #p(e) {
        return e && typeof e == "object" && !Array.isArray(e) && !(e instanceof URLSearchParams) ? Object.fromEntries(Object.entries(e).filter( ([,s]) => s !== void 0)) : e
    }
    request;
    #o;
    #s = 0;
    #t;
    #e;
    #a;
    #n;
    #r;
    constructor(e, s={}) {
        if (this.#t = e,
        this.#e = {
            ...s,
            headers: jt(this.#t.headers, s.headers),
            hooks: Ct({
                beforeRequest: [],
                beforeRetry: [],
                beforeError: [],
                afterResponse: []
            }, s.hooks),
            method: Tn(s.method ?? this.#t.method ?? "GET"),
            prefixUrl: String(s.prefixUrl || ""),
            retry: Rn(s.retry),
            throwHttpErrors: s.throwHttpErrors ?? !0,
            timeout: s.timeout ?? 1e4,
            fetch: s.fetch ?? globalThis.fetch.bind(globalThis),
            context: s.context ?? {}
        },
        typeof this.#t != "string" && !(this.#t instanceof URL || this.#t instanceof globalThis.Request))
            throw new TypeError("`input` must be a string, URL, or Request");
        if (this.#e.prefixUrl && typeof this.#t == "string") {
            if (this.#t.startsWith("/"))
                throw new Error("`input` must not begin with a slash when using `prefixUrl`");
            this.#e.prefixUrl.endsWith("/") || (this.#e.prefixUrl += "/"),
            this.#t = this.#e.prefixUrl + this.#t
        }
        fn && wt && (this.#n = this.#e.signal ?? this.#t.signal,
        this.#o = new globalThis.AbortController,
        this.#e.signal = this.#n ? AbortSignal.any([this.#n, this.#o.signal]) : this.#o.signal),
        Xe && (this.#e.duplex = "half"),
        this.#e.json !== void 0 && (this.#e.body = this.#e.stringifyJson?.(this.#e.json) ?? JSON.stringify(this.#e.json),
        this.#e.headers.set("content-type", this.#e.headers.get("content-type") ?? "application/json"));
        const o = s.headers && new globalThis.Headers(s.headers).has("content-type");
        if (this.#t instanceof globalThis.Request && (gn && this.#e.body instanceof globalThis.FormData || this.#e.body instanceof URLSearchParams) && !o && this.#e.headers.delete("content-type"),
        this.request = new globalThis.Request(this.#t,this.#e),
        Mn(this.#e.searchParams)) {
            const r = "?" + (typeof this.#e.searchParams == "string" ? this.#e.searchParams.replace(/^\?/, "") : new URLSearchParams(me.#p(this.#e.searchParams)).toString())
              , i = this.request.url.replace(/(?:\?.*?)?(?=#|$)/, r);
            this.request = new globalThis.Request(i,this.#e)
        }
        if (this.#e.onUploadProgress) {
            if (typeof this.#e.onUploadProgress != "function")
                throw new TypeError("The `onUploadProgress` option must be a function");
            if (!Xe)
                throw new Error("Request streams are not supported in your environment. The `duplex` option for `Request` is not available.");
            this.request = this.#h(this.request, this.#e.body ?? void 0)
        }
    }
    #c() {
        const e = this.#e.retry.delay(this.#s);
        let s = e;
        return this.#e.retry.jitter === !0 ? s = Math.random() * e : typeof this.#e.retry.jitter == "function" && (s = this.#e.retry.jitter(e),
        (!Number.isFinite(s) || s < 0) && (s = e)),
        Math.min(this.#e.retry.backoffLimit, s)
    }
    async #f(e) {
        if (this.#s++,
        this.#s > this.#e.retry.limit)
            throw e;
        const s = e instanceof Error ? e : new bt(e);
        if (s instanceof Ee)
            return s.customDelay ?? this.#c();
        if (!this.#e.retry.methods.includes(this.request.method.toLowerCase()))
            throw e;
        if (this.#e.retry.shouldRetry !== void 0) {
            const o = await this.#e.retry.shouldRetry({
                error: s,
                retryCount: this.#s
            });
            if (o === !1)
                throw e;
            if (o === !0)
                return this.#c()
        }
        if ($n(e) && !this.#e.retry.retryOnTimeout)
            throw e;
        if (zn(e)) {
            if (!this.#e.retry.statusCodes.includes(e.response.status))
                throw e;
            const o = e.response.headers.get("Retry-After") ?? e.response.headers.get("RateLimit-Reset") ?? e.response.headers.get("X-RateLimit-Retry-After") ?? e.response.headers.get("X-RateLimit-Reset") ?? e.response.headers.get("X-Rate-Limit-Reset");
            if (o && this.#e.retry.afterStatusCodes.includes(e.response.status)) {
                let a = Number(o) * 1e3;
                Number.isNaN(a) ? a = Date.parse(o) - Date.now() : a >= Date.parse("2024-01-01") && (a -= Date.now());
                const r = this.#e.retry.maxRetryAfter ?? a;
                return a < r ? a : r
            }
            if (e.response.status === 413)
                throw e
        }
        return this.#c()
    }
    #d(e) {
        return this.#e.parseJson && (e.json = async () => this.#e.parseJson(await e.text())),
        e
    }
    async #u(e) {
        try {
            return await e()
        } catch (s) {
            const o = Math.min(await this.#f(s), Pe);
            if (this.#s < 1)
                throw s;
            if (await Pn(o, this.#n ? {
                signal: this.#n
            } : {}),
            s instanceof Ee && s.customRequest) {
                const a = this.#e.signal ? new globalThis.Request(s.customRequest,{
                    signal: this.#e.signal
                }) : new globalThis.Request(s.customRequest);
                this.#l(a)
            }
            for (const a of this.#e.hooks.beforeRetry) {
                const r = await a({
                    request: this.request,
                    options: this.#i(),
                    error: s,
                    retryCount: this.#s
                });
                if (r instanceof globalThis.Request) {
                    this.#l(r);
                    break
                }
                if (r instanceof globalThis.Response)
                    return r;
                if (r === _t)
                    return
            }
            return this.#u(e)
        }
    }
    async #m() {
        this.#o?.signal.aborted && (this.#o = new globalThis.AbortController,
        this.#e.signal = this.#n ? AbortSignal.any([this.#n, this.#o.signal]) : this.#o.signal,
        this.request = new globalThis.Request(this.request,{
            signal: this.#e.signal
        }));
        for (const s of this.#e.hooks.beforeRequest) {
            const o = await s(this.request, this.#i(), {
                retryCount: this.#s
            });
            if (o instanceof Response)
                return o;
            if (o instanceof globalThis.Request) {
                this.#l(o);
                break
            }
        }
        const e = An(this.request, this.#e);
        return this.#a = this.request,
        this.request = this.#a.clone(),
        this.#e.timeout === !1 ? this.#e.fetch(this.#a, e) : En(this.#a, e, this.#o, this.#e)
    }
    #i() {
        if (!this.#r) {
            const {hooks: e, ...s} = this.#e;
            this.#r = Object.freeze(s)
        }
        return this.#r
    }
    #l(e) {
        this.#r = void 0,
        this.request = this.#h(e)
    }
    #h(e, s) {
        return !this.#e.onUploadProgress || !e.body ? e : jn(e, this.#e.onUploadProgress, s ?? this.#e.body ?? void 0)
    }
}
const Ue = t => {
    const e = (s, o) => me.create(s, be(t, o));
    for (const s of vt)
        e[s] = (o, a) => me.create(o, be(t, a, {
            method: s
        }));
    return e.create = s => Ue(be(s)),
    e.extend = s => (typeof s == "function" && (s = s(t ?? {})),
    Ue(be(t, s))),
    e.stop = _t,
    e.retry = bn,
    e
}
  , Dn = Ue()
  , Ce = {};
let tt = !1;
const Ln = t => !!t && (typeof t == "object" || typeof t == "function") && typeof t.then == "function"
  , qn = () => {
    x.runtime.onMessage.addListener( (t, e, s) => {
        if (!t)
            return;
        const o = t
          , a = Ce[o.eventName];
        let r;
        if (a)
            return a.map(i => {
                const c = i(o.data, e)
                  , d = {
                    resStatus: 0,
                    data: c,
                    message: "success"
                };
                Ln(c) ? (c.then(u => {
                    d.data = u,
                    s(d)
                }
                ).catch(u => {
                    u.name === "HTTPError" ? s(u) : s({
                        resStatus: -1,
                        message: u.message
                    })
                }
                ),
                r = !0) : s(d)
            }
            ),
            r
    }
    )
}
;
class Q {
    static sendMessageToDefault(e) {
        return new Promise( (s, o) => {
            x.runtime.sendMessage(e).then(a => {
                a === null && s(void 0),
                a && a.resStatus === 0 ? s(a.data) : o(a)
            }
            ).catch(a => {
                o(a)
            }
            )
        }
        )
    }
    static sendMessageToContent(e, s) {
        return new Promise( (o, a) => {
            x.tabs.sendMessage(s, e).then(r => {
                r === null && o(void 0),
                r && r.resStatus === 0 ? o(r.data) : a(r)
            }
            ).catch(r => {
                a(r)
            }
            )
        }
        )
    }
    static sendMessage(e, s, o) {
        const a = {
            eventName: e,
            data: s
        };
        return typeof o == "number" ? this.sendMessageToContent(a, o) : this.sendMessageToDefault(a)
    }
    static sendMessageToActiveTab(e, s) {
        return new Promise( (o, a) => {
            x.tabs.query({
                active: !0,
                currentWindow: !0
            }).then(r => {
                const i = {
                    eventName: e,
                    data: s
                };
                if (r[0]) {
                    const c = r[0].id;
                    c != null ? this.sendMessageToContent(i, c).then(o).catch(a) : a(new Error("No active tab found."))
                } else
                    a(new Error("No active tabs found."))
            }
            ).catch(r => {
                a(r)
            }
            )
        }
        )
    }
    static onMessage(e, s) {
        Ce[e] || (Ce[e] = []),
        Ce[e].push(s),
        tt || (tt = !0,
        qn())
    }
}
const re = () => {
    if (x?.extension?.getBackgroundPage && x?.extension?.getBackgroundPage() === window)
        return !0;
    try {
        return typeof self < "u" && self.ServiceWorkerGlobalScope
    } catch {
        return !1
    }
}
;
let st = !1;
class Tt {
    static async fetch(e, s, o="json", a=!1, r=0) {
        if (!re())
            return;
        const c = {
            ...s,
            headers: a ? {} : {
                ...{},
                ...s?.headers
            }
        };
        let d = 1e3 * 30;
        return e.toString().includes("/api/v1/make/pdf") && (d = 1e3 * 60),
        Dn(e, {
            retry: 2,
            timeout: d,
            ...c
        }).then(async u => o === "json" ? u.json() : o === "text" ? u.text() : o === "blob" ? u.blob() : o === "arrayBuffer" ? u.arrayBuffer() : o === "formData" ? u.formData() : o === "no-resolve" ? u : Promise.resolve({})).catch(async u => {
            if (u.name === "HTTPError") {
                const p = await u.response.json();
                throw {
                    name: u?.name,
                    code: u.response?.code,
                    status: u.response?.status,
                    message: p.message,
                    ...p
                }
            } else if (u.name === "TimeoutError") {
                if (r === 0)
                    return this.fetch(e, s, o, a, r + 1);
                throw {
                    name: "HTTPError",
                    code: 408,
                    status: 408,
                    message: u.message
                }
            } else
                throw {
                    name: "HTTPError",
                    code: -1,
                    status: 500,
                    message: u.message
                }
        }
        )
    }
    static setMessageListener() {
        st || !re() || (st = !0,
        Q.onMessage("to-fetch-data", async e => this.fetch(e.input, e.init, e.resolve, !!e.noAuth)))
    }
}
async function We(t, e, s="json") {
    return re() ? await Tt.fetch(t, e, s) : await Q.sendMessage("to-fetch-data", {
        input: t,
        init: e,
        resolve: s,
        noAuth: !1
    })
}
const Fn = async (t, e) => {
    try {
        e = JSON.stringify(e)
    } catch (s) {
        console.error(s)
    }
    return We(t, {
        method: "POST",
        body: e,
        headers: {
            "content-type": "application/json"
        }
    })
}
  , On = async (t, e, s="json") => We(t, e, s);
class ot {
    static fetch = We;
    static get = On;
    static post = Fn;
    static noAuthPost = async (e, s) => {
        const o = {
            body: JSON.stringify(s),
            method: "POST"
        };
        return re() ? await Tt.fetch(e, o, "no-resolve", !0) : await Q.sendMessage("to-fetch-data", {
            input: e,
            init: o,
            resolve: "no-resolve",
            noAuth: !0
        })
    }
}
class Ae {
    static async getCookie(e, s) {
        return await x.cookies.get({
            url: s,
            name: e
        })
    }
    static async setCookie({key: e, value: s, domain: o, url: a, expiresDays: r}) {
        return await x.cookies.set({
            url: a,
            domain: o,
            name: e,
            value: s,
            expirationDate: Math.floor(Date.now() / 1e3) + r * 24 * 60 * 60
        })
    }
    static async getAllCookies(e) {
        try {
            console.log("getAllCookies");
            const s = await x.cookies.getAll({
                url: e
            });
            return console.log("resLddd", s),
            s
        } catch (s) {
            console.error(s)
        }
    }
    static setMessageListener() {
        Q.onMessage("get-cookie-data", async e => await this.getCookie(e.key, e.domain)),
        Q.onMessage("set-cookie-data", async e => await this.setCookie(e)),
        Q.onMessage("get-all-cookies", async e => (console.log("get-all-cookies:", e.domain),
        await this.getAllCookies(e.domain)))
    }
}
class nt {
    static async getCookie(e, s) {
        let o = null;
        return re() ? o = await Ae.getCookie(e, s) : o = await Q.sendMessage("get-cookie-data", {
            key: e,
            domain: s
        }),
        o
    }
    static async setCookie({key: e, value: s, domain: o, url: a, expiresDays: r}) {
        let i = null;
        return re() ? i = await Ae.setCookie({
            key: e,
            value: s,
            domain: o,
            url: a,
            expiresDays: r
        }) : i = await Q.sendMessage("set-cookie-data", {
            key: e,
            domain: o,
            url: a,
            value: s,
            expiresDays: r
        }),
        i
    }
    static async getAllCookies(e) {
        let s = null;
        return re() ? s = await Ae.getAllCookies(e) : s = await Q.sendMessage("get-all-cookies", {
            domain: e
        }),
        s || []
    }
    static async setWebCookie(e, s, o=30) {
        const a = ["saveai.net", "www.saveai.net"];
        for (const r of a)
            await this.setCookie({
                key: e,
                value: s,
                domain: r,
                url: "saveai.net",
                expiresDays: o
            })
    }
    static async getWebCookie(e) {
        return await this.getCookie(e, "saveai.net")
    }
    static async removeWebCookie(e) {
        await this.setWebCookie(e, "", 0)
    }
}
const L = "notion_web_clipper"
  , Un = {
    addToSpaceBlockIds: {},
    recentSpaceBlockIds: {},
    addToBlockProperties: {}
};
class z {
    static async getRequestParams() {
        try {
            const e = await x.storage.local.get(L);
            if (e && e[L]) {
                const s = e[L];
                return this.extractRequestParamsFromResponse(s)
            }
        } catch (e) {
            console.error("获取存储的参数失败:", e)
        }
        return Un
    }
    static async loadFromCache() {
        try {
            const e = await x.storage.local.get(L);
            if (e[L])
                return e[L]
        } catch (e) {
            console.error("从缓存加载数据失败:", e)
        }
        return null
    }
    static async updateStorage(e) {
        try {
            const s = await x.storage.local.get(L);
            if (s[L]) {
                const o = {
                    ...s[L],
                    ...e
                };
                await x.storage.local.set({
                    [L]: o
                })
            }
        } catch (s) {
            console.error("更新存储失败:", s)
        }
    }
    static findFullBlock(e, s, o) {
        return (o.previewSpaceBlocks[e] || []).find(r => r.record.id === s) || null
    }
    static getDefaultBlock(e, s) {
        if (!s || !e.addToSpaceBlocks)
            return null;
        const o = e.addToSpaceBlocks[s];
        if (o)
            return this.findFullBlock(s, o.record.id, e) || o;
        const a = Object.values(e.addToSpaceBlocks);
        if (a.length > 0) {
            const r = a[0];
            return this.findFullBlock(s, r.record.id, e) || r
        }
        return null
    }
    static getDefaultSpaceId(e) {
        return e.addToSpaceId || e.spaces[0]?.record?.id || ""
    }
    static getSpaceBlocks(e, s) {
        if (!e || !s)
            return {
                recent: [],
                databases: [],
                pages: []
            };
        const o = e.recentSpaceBlocks[s] || []
          , a = e.previewSpaceBlocks[s] || []
          , r = a.filter(c => c.record.type === "collection_view")
          , i = a.filter(c => c.record.type === "page");
        return {
            recent: o,
            databases: r,
            pages: i
        }
    }
    static extractRequestParamsFromResponse(e) {
        const s = {
            addToSpaceId: e.addToSpaceId,
            addToSpaceBlockIds: {},
            recentSpaceBlockIds: {},
            addToBlockProperties: e.addToBlockProperties || {}
        };
        if (e.addToSpaceBlocks)
            for (const [o,a] of Object.entries(e.addToSpaceBlocks))
                a.record && a.record.id && (s.addToSpaceBlockIds[o] = a.record.id);
        if (e.recentSpaceBlocks)
            for (const [o,a] of Object.entries(e.recentSpaceBlocks))
                s.recentSpaceBlockIds[o] = a.map(r => r.record.id);
        return s
    }
    static async saveResponseToStorage(e) {
        try {
            await x.storage.local.set({
                [L]: e
            })
        } catch (s) {
            throw console.error("保存响应数据到存储失败:", s),
            s
        }
    }
}
const Me = "https://www.notion.so"
  , Hn = "https://www.notion.so/api/v3"
  , at = {
    PAGE: "page",
    COLLECTION_VIEW_PAGE: "collection_view_page"
}
  , Vn = () => "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(t) {
    const e = Math.random() * 16 | 0;
    return (t == "x" ? e : e & 3 | 8).toString(16)
});
class ue {
    static async getNotionCookies() {
        const e = await nt.getAllCookies(Me);
        return e && e.length > 0 ? e.map(o => `${o.name}=${o.value}`).join("; ") : ""
    }
    static async getNotionUserId() {
        return (await nt.getCookie("notion_user_id", Me))?.value || ""
    }
    static async isAuthenticated() {
        const e = await this.getNotionUserId();
        return e || await this.clearCacheOnAuthFailure(),
        !!e
    }
    static async clearCacheOnAuthFailure() {
        await x.storage.local.remove("notion_web_clipper")
    }
    static async getWebClipperData(e) {
        let s;
        e ? s = {
            ...await z.getRequestParams(),
            ...e
        } : s = await z.getRequestParams();
        const o = await this.notionApiV3Request("getWebClipperData", s);
        if (o.previewSpaceBlocks)
            await z.saveResponseToStorage(o);
        else
            throw new Error(o.message);
        return o
    }
    static async notionApiV3Request(e, s={}) {
        const o = await this.getNotionCookies()
          , a = await this.getNotionUserId();
        if (!o)
            throw new Error("未找到 Notion 登录状态，请先登录 https://www.notion.so/");
        return await ot.fetch(`${Hn}/${e}`, {
            method: "POST",
            headers: {
                Cookie: o,
                "X-Notion-Active-User-Header": a,
                "Content-Type": "application/json"
            },
            body: JSON.stringify(s)
        })
    }
    static async createEmptyPage(e, s) {
        const o = Vn()
          , a = e.parentId
          , r = Date.now();
        let i;
        return e.pageType === at.PAGE ? i = [{
            id: o,
            table: "block",
            path: [],
            command: "set",
            args: {
                type: "page",
                id: o,
                space_id: e.spaceId,
                version: 1
            }
        }, {
            id: o,
            table: "block",
            path: [],
            command: "update",
            args: {
                parent_id: a,
                parent_table: e.parentTable,
                alive: !0,
                space_id: e.spaceId
            }
        }, {
            table: "block",
            id: a,
            path: ["content"],
            command: "listAfter",
            args: {
                id: o,
                space_id: e.spaceId
            }
        }, {
            id: o,
            table: "block",
            path: ["properties", "title"],
            command: "set",
            args: [[s]]
        }, {
            id: o,
            table: "block",
            path: [],
            command: "update",
            args: {
                created_by: e.userId,
                created_time: r,
                last_edited_time: r,
                last_edited_by: e.userId,
                space_id: e.spaceId
            }
        }, {
            id: a,
            table: "block",
            path: [],
            command: "update",
            args: {
                last_edited_time: r,
                space_id: e.spaceId
            }
        }] : e.pageType === at.COLLECTION_VIEW_PAGE && (i = [{
            id: o,
            table: "block",
            path: [],
            command: "set",
            args: {
                type: "page",
                id: o,
                space_id: e.spaceId,
                version: 1
            }
        }, {
            id: o,
            table: "block",
            path: [],
            command: "update",
            args: {
                parent_id: a,
                parent_table: e.parentTable,
                space_id: e.spaceId,
                alive: !0
            }
        }]),
        await this.notionApiV3Request("submitTransaction", {
            operations: i
        }),
        o
    }
    static async getUploadFileUrl(e) {
        return await this.notionApiV3Request("getUploadFileUrl", {
            bucket: "temporary",
            name: e,
            contentType: "text/markdown"
        })
    }
    static async importFileToPage(e, s, o, a, r) {
        return await this.notionApiV3Request("enqueueTask", {
            task: {
                eventName: "importFile",
                request: {
                    fileURL: o,
                    fileName: a,
                    importType: "ReplaceBlock",
                    block: {
                        id: e,
                        spaceId: s.spaceId
                    },
                    spaceId: s.spaceId,
                    signedToken: r
                }
            }
        })
    }
    static async saveToNotion(e) {
        try {
            if (!e.saveParams)
                throw new Error("缺少保存参数，请重新选择页面");
            const s = await this.createEmptyPage(e.saveParams, e.title)
              , o = `${e.title}.md`
              , a = await this.getUploadFileUrl(encodeURI(o));
            return await ot.fetch(a.signedPutUrl, {
                method: "PUT",
                headers: {
                    "Content-Type": "text/markdown"
                },
                body: e.content
            }, "no-resolve"),
            await this.importFileToPage(s, e.saveParams, a.url, o, a.signedToken),
            {
                success: !0,
                url: `${Me}/${e.saveParams.spaceId}/${s.replace(/-/g, "")}`,
                title: e.title,
                pageId: s
            }
        } catch (s) {
            return console.error("保存到 Notion 失败:", s),
            {
                success: !1,
                error: s.message
            }
        }
    }
    static async searchBlocks(e) {
        return await this.notionApiV3Request("searchWebClipperPages", e)
    }
}
const Gn = "_button_19yvv_1"
  , Wn = "_buttonText_19yvv_25"
  , Jn = "_iconContainer_19yvv_32"
  , Yn = "_chevron_19yvv_39"
  , ve = {
    button: Gn,
    buttonText: Wn,
    iconContainer: Jn,
    chevron: Yn
}
  , Kn = ({trigger: t, isLoading: e, displayIcon: s, displayText: o}) => n.jsxs("button", {
    className: `${ve.button}`,
    onClick: () => t(),
    disabled: e,
    children: [n.jsxs("div", {
        className: ve.iconContainer,
        children: [n.jsx("span", {
            children: s
        }), n.jsx("span", {
            className: ve.buttonText,
            children: o
        })]
    }), n.jsx(Gt, {
        size: 16,
        className: ve.chevron
    })]
})
  , Qn = "_header_g81bq_1"
  , Zn = "_backButton_g81bq_9"
  , Xn = "_titleContainer_g81bq_25"
  , ea = "_title_g81bq_25"
  , ta = "_externalLink_g81bq_38"
  , sa = "_refreshButton_g81bq_52"
  , oa = "_refreshing_g81bq_74"
  , ne = {
    header: Qn,
    backButton: Zn,
    titleContainer: Xn,
    title: ea,
    externalLink: ta,
    refreshButton: sa,
    refreshing: oa
}
  , ze = _.t.bind(_)
  , na = ({handleClose: t, isLoading: e, handleRefresh: s}) => n.jsxs("div", {
    className: ne.header,
    children: [n.jsx("button", {
        className: ne.backButton,
        onClick: t,
        children: n.jsx(Kt, {
            size: 20
        })
    }), n.jsxs("div", {
        className: ne.titleContainer,
        children: [n.jsx("span", {
            className: ne.title,
            children: ze("notion.selectNotionDatabase")
        }), n.jsx("a", {
            href: "https://www.notion.so/",
            target: "_blank",
            rel: "noopener noreferrer",
            className: ne.externalLink,
            title: ze("notion.openNotionWebsite"),
            onClick: o => o.stopPropagation(),
            children: n.jsx(ct, {
                size: 14
            })
        })]
    }), n.jsx("button", {
        className: `${ne.refreshButton} ${e ? ne.refreshing : ""}`,
        onClick: s,
        disabled: e,
        title: ze("notion.refreshData"),
        children: n.jsx(fs, {
            size: 16,
            className: e ? "animate-spin" : ""
        })
    })]
})
  , aa = "_loginPrompt_yz7q3_3"
  , ra = "_loginIcon_yz7q3_13"
  , ia = "_loginMessage_yz7q3_17"
  , ca = "_loginButton_yz7q3_31"
  , _e = {
    loginPrompt: aa,
    loginIcon: ra,
    loginMessage: ia,
    loginButton: ca
}
  , $e = _.t.bind(_)
  , la = () => n.jsxs("div", {
    className: _e.loginPrompt,
    children: [n.jsx("div", {
        className: _e.loginIcon,
        children: n.jsx(it, {
            size: 48,
            color: "#ef4444"
        })
    }), n.jsxs("div", {
        className: _e.loginMessage,
        children: [n.jsx("h3", {
            children: $e("notion.needLogin")
        }), n.jsx("p", {
            children: $e("notion.loginPrompt")
        }), n.jsx("a", {
            href: "https://www.notion.so/",
            target: "_blank",
            rel: "noopener noreferrer",
            className: _e.loginButton,
            children: $e("notion.goToLogin")
        })]
    })]
})
  , da = "_errorContainer_xt8i1_2"
  , ua = "_errorHeader_xt8i1_13"
  , ha = "_errorIcon_xt8i1_20"
  , pa = "_errorTitle_xt8i1_25"
  , fa = "_errorMessage_xt8i1_33"
  , ma = "_testingNote_xt8i1_42"
  , ga = "_actionButtons_xt8i1_55"
  , ya = "_primaryButton_xt8i1_64"
  , xa = "_secondaryButton_xt8i1_93"
  , Y = {
    errorContainer: da,
    errorHeader: ua,
    errorIcon: ha,
    errorTitle: pa,
    errorMessage: fa,
    testingNote: ma,
    actionButtons: ga,
    primaryButton: ya,
    secondaryButton: xa
}
  , he = _.t.bind(_)
  , ba = ({message: t, className: e=""}) => {
    const s = () => {
        const r = (_.getLanguage().startsWith("zh"),
        "https://icnh83p4860q.feishu.cn/share/base/form/shrcntw6jovgcNW5fKcWZv6RV2g");
        window.open(r, "_blank", "noopener,noreferrer")
    }
      , o = () => {
        window.open("https://www.notion.so", "_blank", "noopener,noreferrer")
    }
    ;
    return n.jsxs("div", {
        className: `${Y.errorContainer} ${e}`,
        children: [n.jsxs("div", {
            className: Y.errorHeader,
            children: [n.jsx(it, {
                size: 24,
                className: Y.errorIcon
            }), n.jsx("h3", {
                className: Y.errorTitle,
                children: he("error.title")
            })]
        }), n.jsx("div", {
            className: Y.errorMessage,
            children: t
        }), n.jsx("div", {
            className: Y.testingNote,
            children: he("error.testingNote")
        }), n.jsxs("div", {
            className: Y.actionButtons,
            children: [n.jsxs("button", {
                className: Y.primaryButton,
                onClick: o,
                title: he("error.reauthorizeTooltip"),
                children: [n.jsx(ct, {
                    size: 14
                }), he("error.reauthorizeButton")]
            }), n.jsx("button", {
                className: Y.secondaryButton,
                onClick: s,
                title: he("error.feedbackTooltip"),
                children: he("error.feedbackButton")
            })]
        })]
    })
}
  , Je = t => {
    if (typeof t == "string")
        return t.startsWith("https://") ? n.jsx("img", {
            style: {
                width: "20px",
                height: "20px",
                verticalAlign: "middle"
            },
            src: t,
            alt: "icon"
        }) : n.jsx("span", {
            style: {
                fontSize: "16px"
            },
            children: t
        });
    const {emoji: e, url: s} = t;
    return s && s.startsWith("https://") ? n.jsx("img", {
        style: {
            width: "20px",
            height: "20px",
            verticalAlign: "middle"
        },
        src: s,
        alt: "icon"
    }) : e ? n.jsx("span", {
        style: {
            fontSize: "16px"
        },
        children: e
    }) : null
}
  , wa = "_spaceTabs_1stov_1"
  , va = "_spaceTab_1stov_1"
  , _a = "_active_1stov_25"
  , ka = "_spaceName_1stov_35"
  , ke = {
    spaceTabs: wa,
    spaceTab: va,
    active: _a,
    spaceName: ka
}
  , Sa = _.t.bind(_)
  , ja = ({spaces: t, selectedSpaceId: e, onSpaceChange: s}) => n.jsx("div", {
    className: ke.spaceTabs,
    children: t.map(o => n.jsx("button", {
        className: `${ke.spaceTab} ${e === o.record.id ? ke.active : ""}`,
        onClick: () => s(o.record.id),
        children: n.jsx("div", {
            className: ke.spaceName,
            children: o.record.name || `${Sa("notion.workspace")} ${o.record.id.slice(0, 8)}`
        })
    }, o.record.id))
})
  , Ca = "_searchBox_1c7zf_1"
  , Ta = "_searchIcon_1c7zf_7"
  , Na = "_searchInput_1c7zf_16"
  , Ia = "_clearButton_1c7zf_36"
  , Se = {
    searchBox: Ca,
    searchIcon: Ta,
    searchInput: Na,
    clearButton: Ia
}
  , Nt = l.forwardRef( ({placeholder: t="", onSearch: e, onClear: s}, o) => {
    const [a,r] = l.useState("")
      , i = l.useCallback(d => {
        const u = d.target.value;
        r(u),
        e?.(u)
    }
    , [e])
      , c = l.useCallback( () => {
        r(""),
        e?.(""),
        s?.()
    }
    , [e, s]);
    return l.useImperativeHandle(o, () => ({
        reset: () => {
            r("")
        }
    }), []),
    n.jsxs("div", {
        className: Se.searchBox,
        children: [n.jsx(xs, {
            size: 16,
            className: Se.searchIcon
        }), n.jsx("input", {
            type: "text",
            placeholder: t,
            className: Se.searchInput,
            value: a,
            onChange: i
        }), a && n.jsx("button", {
            className: Se.clearButton,
            onClick: c,
            type: "button",
            children: n.jsx(_s, {
                size: 14
            })
        })]
    })
}
);
Nt.displayName = "SearchBox";
const Ba = "_blockList_iobkt_1"
  , Ra = "_sectionTitle_iobkt_8"
  , Ea = "_blockItems_iobkt_20"
  , Pa = "_blockItem_iobkt_20"
  , Aa = "_selected_iobkt_42"
  , Ma = "_blockIcon_iobkt_48"
  , za = "_blockContent_iobkt_61"
  , $a = "_blockName_iobkt_66"
  , Da = "_selectedIndicator_iobkt_81"
  , K = {
    blockList: Ba,
    sectionTitle: Ra,
    blockItems: Ea,
    blockItem: Pa,
    selected: Aa,
    blockIcon: Ma,
    blockContent: za,
    blockName: $a,
    selectedIndicator: Da
}
  , La = _.t.bind(_)
  , De = ({title: t, blocks: e, selectedBlockId: s, onBlockSelect: o, type: a}) => {
    const r = c => {
        if (c.record.iconEmoji)
            return Je({
                emoji: c.record.iconEmoji
            });
        switch (c.record.type) {
        case "collection_view":
            return n.jsx(fe, {
                size: 16
            });
        case "page":
            return n.jsx(pe, {
                size: 16
            });
        default:
            return n.jsx(pe, {
                size: 16
            })
        }
    }
      , i = () => {
        switch (a) {
        case "recent":
            return n.jsx(os, {
                size: 16
            });
        case "databases":
            return n.jsx(fe, {
                size: 16
            });
        case "pages":
            return n.jsx(pe, {
                size: 16
            });
        default:
            return n.jsx(pe, {
                size: 16
            })
        }
    }
    ;
    return e.length === 0 ? null : n.jsxs("div", {
        className: K.blockList,
        children: [n.jsxs("div", {
            className: K.sectionTitle,
            children: [i(), n.jsx("span", {
                children: t
            })]
        }), n.jsx("div", {
            className: K.blockItems,
            children: e.map(c => n.jsxs("div", {
                className: `${K.blockItem} ${s === c.record.id ? K.selected : ""}`,
                onClick: () => o(c),
                children: [n.jsx("div", {
                    className: K.blockIcon,
                    children: r(c)
                }), n.jsx("div", {
                    className: K.blockContent,
                    children: n.jsx("div", {
                        className: K.blockName,
                        children: c.record.name || La("notion.unnamed")
                    })
                }), s === c.record.id && n.jsx("div", {
                    className: K.selectedIndicator
                })]
            }, c.record.id))
        })]
    })
}
  , qa = "_searchResults_1ffyo_1"
  , Fa = "_searchHeader_1ffyo_5"
  , Oa = "_resultItems_1ffyo_17"
  , Ua = "_resultItem_1ffyo_17"
  , Ha = "_selected_1ffyo_36"
  , Va = "_resultIcon_1ffyo_41"
  , Ga = "_resultContent_1ffyo_51"
  , Wa = "_resultName_1ffyo_56"
  , Ja = "_resultType_1ffyo_66"
  , Ya = "_selectedIndicator_1ffyo_73"
  , Ka = "_loadingState_1ffyo_84"
  , Qa = "_loadingSpinner_1ffyo_95"
  , Za = "_emptyState_1ffyo_112"
  , Xa = "_emptyIcon_1ffyo_132"
  , T = {
    searchResults: qa,
    searchHeader: Fa,
    resultItems: Oa,
    resultItem: Ua,
    selected: Ha,
    resultIcon: Va,
    resultContent: Ga,
    resultName: Wa,
    resultType: Ja,
    selectedIndicator: Ya,
    loadingState: Ka,
    loadingSpinner: Qa,
    emptyState: Za,
    emptyIcon: Xa
}
  , O = _.t.bind(_)
  , er = ({results: t, selectedBlockId: e, onBlockSelect: s, isLoading: o=!1, query: a}) => {
    const r = c => {
        if (c.record.iconEmoji)
            return Je({
                emoji: c.record.iconEmoji
            });
        switch (c.record.type) {
        case "collection_view":
            return n.jsx(fe, {
                size: 16
            });
        case "page":
            return n.jsx(pe, {
                size: 16
            });
        default:
            return n.jsx(pe, {
                size: 16
            })
        }
    }
      , i = c => {
        switch (c) {
        case "collection_view":
            return O("notion.database");
        case "page":
            return O("notion.page");
        default:
            return O("notion.page")
        }
    }
    ;
    return o ? n.jsxs("div", {
        className: T.searchResults,
        children: [n.jsxs("div", {
            className: T.searchHeader,
            children: [n.jsx(Be, {
                size: 16
            }), n.jsx("span", {
                children: O("notion.searching")
            })]
        }), n.jsxs("div", {
            className: T.loadingState,
            children: [n.jsx("div", {
                className: T.loadingSpinner
            }), n.jsxs("span", {
                children: [O("notion.searchingFor"), ' "', a, '"']
            })]
        })]
    }) : t.length === 0 && a ? n.jsxs("div", {
        className: T.searchResults,
        children: [n.jsxs("div", {
            className: T.searchHeader,
            children: [n.jsx(Be, {
                size: 16
            }), n.jsx("span", {
                children: O("notion.searchResults")
            })]
        }), n.jsxs("div", {
            className: T.emptyState,
            children: [n.jsx(ws, {
                size: 24,
                className: T.emptyIcon
            }), n.jsxs("span", {
                children: [O("notion.noResults"), ' "', a, '"']
            }), n.jsx("p", {
                children: O("notion.tryDifferentKeywords")
            })]
        })]
    }) : n.jsxs("div", {
        className: T.searchResults,
        children: [n.jsxs("div", {
            className: T.searchHeader,
            children: [n.jsx(Be, {
                size: 16
            }), n.jsxs("span", {
                children: [O("notion.searchResults"), " (", t.length, ")"]
            })]
        }), n.jsx("div", {
            className: T.resultItems,
            children: t.map(c => n.jsxs("div", {
                className: `${T.resultItem} ${e === c.record.id ? T.selected : ""}`,
                onClick: () => s(c),
                children: [n.jsx("div", {
                    className: T.resultIcon,
                    children: r(c)
                }), n.jsxs("div", {
                    className: T.resultContent,
                    children: [n.jsx("div", {
                        className: T.resultName,
                        children: c.record.name || O("notion.unnamed")
                    }), n.jsx("div", {
                        className: T.resultType,
                        children: i(c.record.type)
                    })]
                }), e === c.record.id && n.jsx("div", {
                    className: T.selectedIndicator
                })]
            }, c.record.id))
        })]
    })
}
  , v = _.t.bind(_)
  , tr = ({className: t=""}) => {
    const [e,s] = l.useState(null)
      , [o,a] = l.useState(!1)
      , [r,i] = l.useState(!1)
      , [c,d] = l.useState(!1)
      , [u,p] = l.useState(null)
      , [f,g] = l.useState("")
      , [y,A] = l.useState("")
      , [q,j] = l.useState(!1)
      , [F,H] = l.useState("")
      , [k,R] = l.useState([])
      , [ie,h] = l.useState(!1)
      , [w,ce] = l.useState("")
      , V = l.useRef(null)
      , X = () => {
        H(""),
        R([]),
        ce(""),
        G.current && clearTimeout(G.current),
        V.current?.reset()
    }
      , It = () => {
        p(null),
        s(null),
        g(""),
        A(""),
        j(!1),
        X()
    }
      , Ye = async (b=!1) => {
        try {
            if (!await ue.isAuthenticated()) {
                I("notion_load_result", {
                    result: "not_login"
                }),
                j(!1),
                A(v("notion.loginRequired")),
                It(),
                await ue.clearCacheOnAuthFailure();
                return
            }
            j(!0);
            const N = await ue.getWebClipperData(b ? {
                addToSpaceBlockIds: {},
                recentSpaceBlockIds: {}
            } : void 0);
            if (N) {
                p(N);
                const D = z.getDefaultSpaceId(N);
                g(D);
                const le = z.getDefaultBlock(N, D);
                le && (s(le),
                await z.updateStorage({
                    addToSpaceBlocks: {
                        ...N.addToSpaceBlocks,
                        [D]: le
                    }
                })),
                I("notion_load_result", {
                    result: "loaded"
                })
            }
        } catch (C) {
            A(C?.message || v("notion.dataInitFailed")),
            I("notion_load_result", {
                result: "failed",
                error: C?.message
            })
        } finally {
            d(!1)
        }
    }
      , Bt = async () => {
        d(!0),
        A(""),
        X(),
        await Ye(!0)
    }
      , Rt = async () => {
        try {
            return await ue.isAuthenticated() ? {
                isAuthenticated: !0,
                cachedData: await z.loadFromCache()
            } : (I("notion_load_result", {
                result: "not_login"
            }),
            {
                isAuthenticated: !1,
                cachedData: null,
                error: v("notion.loginRequired")
            })
        } catch (b) {
            return console.error("初始化 Notion 数据失败:", b),
            {
                isAuthenticated: !1,
                cachedData: null,
                error: v("notion.initFailed")
            }
        }
    }
    ;
    l.useEffect( () => {
        (async () => {
            const {isAuthenticated: C, cachedData: N, error: D} = await Rt();
            if (j(C),
            !C) {
                p(null),
                s(null),
                g(""),
                D && A(D);
                return
            }
            if (N) {
                p(N);
                const le = z.getDefaultSpaceId(N);
                g(le);
                const Ke = z.getDefaultBlock(N, le);
                Ke && s(Ke)
            } else
                d(!0);
            await Ye()
        }
        )()
    }
    , []);
    const Et = async b => {
        if (g(b),
        s(null),
        X(),
        await z.updateStorage({
            addToSpaceId: b
        }),
        u && b && u.addToSpaceBlocks) {
            const C = u.addToSpaceBlocks[b];
            if (C)
                s(C);
            else {
                const N = u.previewSpaceBlocks[b] || [];
                N.length > 0 && s(N[0])
            }
        }
    }
      , ye = async b => {
        s(b),
        i(!1),
        X(),
        await z.updateStorage({
            addToSpaceBlocks: {
                ...u?.addToSpaceBlocks,
                [f]: b
            }
        })
    }
      , Pt = async b => {
        if (ce(""),
        !b.trim() || !f) {
            R([]);
            return
        }
        h(!0);
        try {
            const C = await ue.searchBlocks({
                spaceId: f,
                query: b.trim(),
                limit: 20
            });
            if (C?.results) {
                const N = C.results.map(D => ({
                    record: D.record,
                    ancestors: D.ancestors
                }));
                R(N)
            } else
                R([])
        } catch (C) {
            console.error("搜索失败:", C),
            ce(C?.message || v("notion.searchFailed")),
            R([])
        } finally {
            h(!1)
        }
    }
      , G = l.useRef(null)
      , At = b => {
        if (H(b),
        !b.trim()) {
            R([]),
            ce(""),
            G.current && clearTimeout(G.current);
            return
        }
        G.current && clearTimeout(G.current),
        G.current = setTimeout( () => {
            Pt(b)
        }
        , 300)
    }
      , Mt = () => {
        i(!0),
        X()
    }
    ;
    l.useEffect( () => () => {
        G.current && clearTimeout(G.current)
    }
    , []);
    const zt = async () => {
        if (o)
            return;
        if (!await ue.isAuthenticated()) {
            I("notion_click", {
                result: "not_login"
            }),
            i(!0);
            return
        }
        const {canPerform: C, errorMessage: N} = await ee();
        if (!C) {
            $(N || v("notion.unsupportedOperation"));
            return
        }
        if (!e) {
            $(v("notion.selectFirst")),
            i(!0);
            return
        }
        a(!0),
        $.loading(v("notion.savingProgress"), {
            id: "saving"
        });
        try {
            await M("full-notion"),
            await P("saveFullChatsToNotion", {
                block: e,
                blockId: e.record.id,
                blockName: e.record.name,
                blockType: e.record.type,
                spaceId: f
            }),
            I("notion_click", {
                result: "sended"
            }),
            $.success(v("notion.saveSuccessToast"), {
                id: "saving"
            })
        } catch (D) {
            console.error("Save failed:", D),
            $(v("notion.saveFailedToast"), {
                id: "saving"
            })
        } finally {
            a(!1)
        }
    }
      , $t = () => e ? e.record.name || v("notion.unnamed") : c ? v("notion.loading", "加载中...") : v("notion.selectDatabaseOrPage", "选择页面或数据库")
      , Dt = () => c ? n.jsx(ds, {
        size: 14,
        className: "animate-spin"
    }) : e?.record.iconEmoji ? Je({
        emoji: e.record.iconEmoji
    }) : e?.record.type === "collection_view" ? n.jsx(fe, {
        size: 14
    }) : n.jsx(fe, {
        size: 14
    })
      , Lt = () => z.getSpaceBlocks(u, f)
      , {recent: qt, databases: Ft, pages: Ot} = Lt();
    return n.jsxs("div", {
        className: `${W.section} ${t}`,
        children: [n.jsxs("div", {
            className: `${W.select} flex-1`,
            children: [n.jsx(Kn, {
                trigger: Mt,
                isLoading: c,
                displayIcon: Dt(),
                displayText: $t() || ""
            }), r && n.jsxs("div", {
                className: W.overlay,
                children: [n.jsx(na, {
                    handleClose: () => i(!1),
                    isLoading: c,
                    handleRefresh: Bt
                }), c ? n.jsxs("div", {
                    className: W.loading,
                    children: [n.jsx(hs, {
                        size: 16,
                        className: W.loadingIcon
                    }), n.jsx("span", {
                        className: W.loadingText,
                        children: v("notion.loadingData")
                    })]
                }) : n.jsxs(n.Fragment, {
                    children: [!q && n.jsx(la, {}), q && !y && u && n.jsxs(n.Fragment, {
                        children: [n.jsx(ja, {
                            spaces: u.spaces,
                            selectedSpaceId: f,
                            onSpaceChange: Et
                        }), n.jsx(Nt, {
                            placeholder: v("notion.searchPlaceholder"),
                            onSearch: At,
                            ref: V,
                            onClear: X
                        }), n.jsx("div", {
                            className: W.content,
                            children: F ? n.jsx(er, {
                                results: k,
                                selectedBlockId: e?.record.id,
                                onBlockSelect: ye,
                                isLoading: ie,
                                query: F
                            }) : n.jsxs(n.Fragment, {
                                children: [n.jsx(De, {
                                    title: v("notion.recentUsed"),
                                    blocks: qt,
                                    selectedBlockId: e?.record.id,
                                    onBlockSelect: ye,
                                    type: "recent"
                                }), n.jsx(De, {
                                    title: v("notion.recentDatabases"),
                                    blocks: Ft,
                                    selectedBlockId: e?.record.id,
                                    onBlockSelect: ye,
                                    type: "databases"
                                }), n.jsx(De, {
                                    title: v("notion.recentPages"),
                                    blocks: Ot,
                                    selectedBlockId: e?.record.id,
                                    onBlockSelect: ye,
                                    type: "pages"
                                })]
                            })
                        })]
                    }), q && y && n.jsx(ba, {
                        message: y
                    })]
                })]
            })]
        }), n.jsxs("button", {
            className: `${W.saveButton} ${o ? W.saving : ""}`,
            onClick: zt,
            disabled: o,
            title: v("notion.save", "保存"),
            children: [n.jsx(gs, {
                size: 14
            }), o ? v("notion.saving", "保存中...") : v("notion.save", "保存")]
        })]
    })
}
  , sr = "data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eDeepSeek%3c/title%3e%3cpath%20d='M23.748%204.482c-.254-.124-.364.113-.512.234-.051.039-.094.09-.137.136-.372.397-.806.657-1.373.626-.829-.046-1.537.214-2.163.848-.133-.782-.575-1.248-1.247-1.548-.352-.156-.708-.311-.955-.65-.172-.241-.219-.51-.305-.774-.055-.16-.11-.323-.293-.35-.2-.031-.278.136-.356.276-.313.572-.434%201.202-.422%201.84.027%201.436.633%202.58%201.838%203.393.137.093.172.187.129.323-.082.28-.18.552-.266.833-.055.179-.137.217-.329.14a5.526%205.526%200%2001-1.736-1.18c-.857-.828-1.631-1.742-2.597-2.458a11.365%2011.365%200%2000-.689-.471c-.985-.957.13-1.743.388-1.836.27-.098.093-.432-.779-.428-.872.004-1.67.295-2.687.684a3.055%203.055%200%2001-.465.137%209.597%209.597%200%2000-2.883-.102c-1.885.21-3.39%201.102-4.497%202.623C.082%208.606-.231%2010.684.152%2012.85c.403%202.284%201.569%204.175%203.36%205.653%201.858%201.533%203.997%202.284%206.438%202.14%201.482-.085%203.133-.284%204.994-1.86.47.234.962.327%201.78.397.63.059%201.236-.03%201.705-.128.735-.156.684-.837.419-.961-2.155-1.004-1.682-.595-2.113-.926%201.096-1.296%202.746-2.642%203.392-7.003.05-.347.007-.565%200-.845-.004-.17.035-.237.23-.256a4.173%204.173%200%20001.545-.475c1.396-.763%201.96-2.015%202.093-3.517.02-.23-.004-.467-.247-.588zM11.581%2018c-2.089-1.642-3.102-2.183-3.52-2.16-.392.024-.321.471-.235.763.09.288.207.486.371.739.114.167.192.416-.113.603-.673.416-1.842-.14-1.897-.167-1.361-.802-2.5-1.86-3.301-3.307-.774-1.393-1.224-2.887-1.298-4.482-.02-.386.093-.522.477-.592a4.696%204.696%200%20011.529-.039c2.132.312%203.946%201.265%205.468%202.774.868.86%201.525%201.887%202.202%202.891.72%201.066%201.494%202.082%202.48%202.914.348.292.625.514.891.677-.802.09-2.14.11-3.054-.614zm1-6.44a.306.306%200%2001.415-.287.302.302%200%2001.2.288.306.306%200%2001-.31.307.303.303%200%2001-.304-.308zm3.11%201.596c-.2.081-.399.151-.59.16a1.245%201.245%200%2001-.798-.254c-.274-.23-.47-.358-.552-.758a1.73%201.73%200%2001.016-.588c.07-.327-.008-.537-.239-.727-.187-.156-.426-.199-.688-.199a.559.559%200%2001-.254-.078c-.11-.054-.2-.19-.114-.358.028-.054.16-.186.192-.21.356-.202.767-.136%201.146.016.352.144.618.408%201.001.782.391.451.462.576.685.914.176.265.336.537.445.848.067.195-.019.354-.25.452z'%20fill='%234D6BFE'%3e%3c/path%3e%3c/svg%3e"
  , or = "data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eClaude%3c/title%3e%3cpath%20d='M4.709%2015.955l4.72-2.647.08-.23-.08-.128H9.2l-.79-.048-2.698-.073-2.339-.097-2.266-.122-.571-.121L0%2011.784l.055-.352.48-.321.686.06%201.52.103%202.278.158%201.652.097%202.449.255h.389l.055-.157-.134-.098-.103-.097-2.358-1.596-2.552-1.688-1.336-.972-.724-.491-.364-.462-.158-1.008.656-.722.881.06.225.061.893.686%201.908%201.476%202.491%201.833.365.304.145-.103.019-.073-.164-.274-1.355-2.446-1.446-2.49-.644-1.032-.17-.619a2.97%202.97%200%2001-.104-.729L6.283.134%206.696%200l.996.134.42.364.62%201.414%201.002%202.229%201.555%203.03.456.898.243.832.091.255h.158V9.01l.128-1.706.237-2.095.23-2.695.08-.76.376-.91.747-.492.584.28.48.685-.067.444-.286%201.851-.559%202.903-.364%201.942h.212l.243-.242.985-1.306%201.652-2.064.73-.82.85-.904.547-.431h1.033l.76%201.129-.34%201.166-1.064%201.347-.881%201.142-1.264%201.7-.79%201.36.073.11.188-.02%202.856-.606%201.543-.28%201.841-.315.833.388.091.395-.328.807-1.969.486-2.309.462-3.439.813-.042.03.049.061%201.549.146.662.036h1.622l3.02.225.79.522.474.638-.079.485-1.215.62-1.64-.389-3.829-.91-1.312-.329h-.182v.11l1.093%201.068%202.006%201.81%202.509%202.33.127.578-.322.455-.34-.049-2.205-1.657-.851-.747-1.926-1.62h-.128v.17l.444.649%202.345%203.521.122%201.08-.17.353-.608.213-.668-.122-1.374-1.925-1.415-2.167-1.143-1.943-.14.08-.674%207.254-.316.37-.729.28-.607-.461-.322-.747.322-1.476.389-1.924.315-1.53.286-1.9.17-.632-.012-.042-.14.018-1.434%201.967-2.18%202.945-1.726%201.845-.414.164-.717-.37.067-.662.401-.589%202.388-3.036%201.44-1.882.93-1.086-.006-.158h-.055L4.132%2018.56l-1.13.146-.487-.456.061-.746.231-.243%201.908-1.312-.006.006z'%20fill='%23D97757'%20fill-rule='nonzero'%3e%3c/path%3e%3c/svg%3e"
  , nr = "data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eGemini%3c/title%3e%3cdefs%3e%3clinearGradient%20id='lobe-icons-gemini-fill'%20x1='0%25'%20x2='68.73%25'%20y1='100%25'%20y2='30.395%25'%3e%3cstop%20offset='0%25'%20stop-color='%231C7DFF'%3e%3c/stop%3e%3cstop%20offset='52.021%25'%20stop-color='%231C69FF'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23F0DCD6'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M12%2024A14.304%2014.304%200%20000%2012%2014.304%2014.304%200%200012%200a14.305%2014.305%200%200012%2012%2014.305%2014.305%200%2000-12%2012'%20fill='url(%23lobe-icons-gemini-fill)'%20fill-rule='nonzero'%3e%3c/path%3e%3c/svg%3e"
  , ar = "data:image/svg+xml,%3csvg%20fill='currentColor'%20fill-rule='evenodd'%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eGrok%3c/title%3e%3cpath%20d='M9.27%2015.29l7.978-5.897c.391-.29.95-.177%201.137.272.98%202.369.542%205.215-1.41%207.169-1.951%201.954-4.667%202.382-7.149%201.406l-2.711%201.257c3.889%202.661%208.611%202.003%2011.562-.953%202.341-2.344%203.066-5.539%202.388-8.42l.006.007c-.983-4.232.242-5.924%202.75-9.383.06-.082.12-.164.179-.248l-3.301%203.305v-.01L9.267%2015.292M7.623%2016.723c-2.792-2.67-2.31-6.801.071-9.184%201.761-1.763%204.647-2.483%207.166-1.425l2.705-1.25a7.808%207.808%200%2000-1.829-1A8.975%208.975%200%20005.984%205.83c-2.533%202.536-3.33%206.436-1.962%209.764%201.022%202.487-.653%204.246-2.34%206.022-.599.63-1.199%201.259-1.682%201.925l7.62-6.815'%3e%3c/path%3e%3c/svg%3e"
  , rr = "data:image/svg+xml,%3csvg%20fill='currentColor'%20fill-rule='evenodd'%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eOpenAI%3c/title%3e%3cpath%20d='M21.55%2010.004a5.416%205.416%200%2000-.478-4.501c-1.217-2.09-3.662-3.166-6.05-2.66A5.59%205.59%200%200010.831%201C8.39.995%206.224%202.546%205.473%204.838A5.553%205.553%200%20001.76%207.496a5.487%205.487%200%2000.691%206.5%205.416%205.416%200%2000.477%204.502c1.217%202.09%203.662%203.165%206.05%202.66A5.586%205.586%200%200013.168%2023c2.443.006%204.61-1.546%205.361-3.84a5.553%205.553%200%20003.715-2.66%205.488%205.488%200%2000-.693-6.497v.001zm-8.381%2011.558a4.199%204.199%200%2001-2.675-.954c.034-.018.093-.05.132-.074l4.44-2.53a.71.71%200%2000.364-.623v-6.176l1.877%201.069c.02.01.033.029.036.05v5.115c-.003%202.274-1.87%204.118-4.174%204.123zM4.192%2017.78a4.059%204.059%200%2001-.498-2.763c.032.02.09.055.131.078l4.44%202.53c.225.13.504.13.73%200l5.42-3.088v2.138a.068.068%200%2001-.027.057L9.9%2019.288c-1.999%201.136-4.552.46-5.707-1.51h-.001zM3.023%208.216A4.15%204.15%200%20015.198%206.41l-.002.151v5.06a.711.711%200%2000.364.624l5.42%203.087-1.876%201.07a.067.067%200%2001-.063.005l-4.489-2.559c-1.995-1.14-2.679-3.658-1.53-5.63h.001zm15.417%203.54l-5.42-3.088L14.896%207.6a.067.067%200%2001.063-.006l4.489%202.557c1.998%201.14%202.683%203.662%201.529%205.633a4.163%204.163%200%2001-2.174%201.807V12.38a.71.71%200%2000-.363-.623zm1.867-2.773a6.04%206.04%200%2000-.132-.078l-4.44-2.53a.731.731%200%2000-.729%200l-5.42%203.088V7.325a.068.068%200%2001.027-.057L14.1%204.713c2-1.137%204.555-.46%205.707%201.513.487.833.664%201.809.499%202.757h.001zm-11.741%203.81l-1.877-1.068a.065.065%200%2001-.036-.051V6.559c.001-2.277%201.873-4.122%204.181-4.12.976%200%201.92.338%202.671.954-.034.018-.092.05-.131.073l-4.44%202.53a.71.71%200%2000-.365.623l-.003%206.173v.002zm1.02-2.168L12%209.25l2.414%201.375v2.75L12%2014.75l-2.415-1.375v-2.75z'%3e%3c/path%3e%3c/svg%3e"
  , ir = "data:image/svg+xml,%3csvg%20height='1em'%20style='flex:none;line-height:1'%20viewBox='0%200%2024%2024'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eYuanbao%3c/title%3e%3cpath%20d='M12%2024c6.627%200%2012-5.373%2012-12S18.627%200%2012%200%200%205.373%200%2012s5.373%2012%2012%2012z'%20fill='url(%23lobe-icons-yuanbao-fill-0)'%3e%3c/path%3e%3cpath%20clip-rule='evenodd'%20d='M12%200c.518%200%201.028.033%201.528.096A6.188%206.188%200%200112.12%2012.28l-.12.001c-2.99%200-5.242%202.179-5.554%205.11-.223%202.086.353%204.412%202.242%206.146C3.672%2022.1%200%2017.479%200%2012%200%205.373%205.373%200%2012%200z'%20fill='url(%23lobe-icons-yuanbao-fill-1)'%20fill-rule='evenodd'%3e%3c/path%3e%3cpath%20clip-rule='evenodd'%20d='M5.286%205a2.438%202.438%200%2001.682%203.38c-3.962%205.966-3.215%2010.743%202.648%2015.136C3.636%2022.056%200%2017.452%200%2012c0-1.787.39-3.482%201.09-5.006.253-.435.525-.872.817-1.311A2.438%202.438%200%20015.286%205z'%20fill='url(%23lobe-icons-yuanbao-fill-2)'%20fill-rule='evenodd'%3e%3c/path%3e%3cpath%20clip-rule='evenodd'%20d='M12.98.04c.272.021.543.053.81.093.583.106%201.117.254%201.538.44%206.638%202.927%208.07%2010.052%201.748%2015.642a4.126%204.126%200%2001-5.822-.358c-1.51-1.706-1.3-4.184.357-5.822.858-.848%203.108-1.223%204.045-2.44%201.257-1.635%202.122-6.01-2.523-7.507L12.98.04z'%20fill='url(%23lobe-icons-yuanbao-fill-3)'%20fill-rule='evenodd'%3e%3c/path%3e%3cpath%20clip-rule='evenodd'%20d='M13.528.096A6.187%206.187%200%200112%2012.281a5.752%205.752%200%2000-1.71.255c.147-.905.595-1.784%201.321-2.501.858-.848%203.108-1.223%204.045-2.441%201.27-1.651%202.14-6.104-2.676-7.554.184.014.367.033.548.056z'%20fill='%23ECECEE'%20fill-rule='evenodd'%3e%3c/path%3e%3cdefs%3e%3clinearGradient%20gradientUnits='userSpaceOnUse'%20id='lobe-icons-yuanbao-fill-0'%20x1='12'%20x2='12'%20y1='0'%20y2='24'%3e%3cstop%20stop-color='%2302B2FC'%3e%3c/stop%3e%3cstop%20offset='.5'%20stop-color='%2320CBB6'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%2313D363'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20gradientUnits='userSpaceOnUse'%20id='lobe-icons-yuanbao-fill-1'%20x1='9.095'%20x2='9.095'%20y1='0'%20y2='23.537'%3e%3cstop%20stop-color='%23C3EBEF'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%23D3F4DD'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20gradientUnits='userSpaceOnUse'%20id='lobe-icons-yuanbao-fill-2'%20x1='4.308'%20x2='4.308'%20y1='4.593'%20y2='23.516'%3e%3cstop%20stop-color='%2314D368'%3e%3c/stop%3e%3cstop%20offset='.5'%20stop-color='%2324CEAD'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%2303B4F8'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20gradientUnits='userSpaceOnUse'%20id='lobe-icons-yuanbao-fill-3'%20x1='15.685'%20x2='15.685'%20y1='.039'%20y2='17.249'%3e%3cstop%20stop-color='%2361CFFA'%20stop-opacity='.996'%3e%3c/stop%3e%3cstop%20offset='1'%20stop-color='%2379E3C0'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e"
  , cr = "data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1746024488142'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='14635'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='48'%20height='48'%3e%3cpath%20d='M68.266667%20836.266667a68.266667%2068.266667%200%200%201-68.266667-68.266667V136.533333a68.266667%2068.266667%200%200%201%2068.266667-68.266666h230.877866a68.266667%2068.266667%200%200%201%2061.064534%2037.7344l47.581866%2095.197866A68.266667%2068.266667%200%200%200%20468.855467%20238.933333H785.066667a68.266667%2068.266667%200%200%201%2068.266666%2068.266667v190.600533A273.066667%20273.066667%200%200%200%20750.933333%20477.866667c-150.818133%200-273.066667%20122.248533-273.066666%20273.066666%200%2028.996267%204.608%2057.787733%2013.6704%2085.333334H68.266667z%20m0-409.6a34.133333%2034.133333%200%200%200%2034.133333%2034.133333h341.333333a34.133333%2034.133333%200%201%200%200-68.266667H102.4a34.133333%2034.133333%200%200%200-34.133333%2034.133334z%20m34.133333%20119.466666a34.133333%2034.133333%200%201%200%200%2068.266667h170.666667a34.133333%2034.133333%200%201%200%200-68.266667H102.4z'%20fill='%23da691e'%20fill-opacity='.6'%20p-id='14636'%3e%3c/path%3e%3cpath%20d='M768%201024c141.380267%200%20256-114.619733%20256-256%200-141.380267-114.619733-256-256-256-141.380267%200-256%20114.619733-256%20256%200%20141.380267%20114.619733%20256%20256%20256z%20m136.533333-349.866667v204.8a8.533333%208.533333%200%200%201-8.533333%208.533334h-54.903467a8.533333%208.533333%200%200%201-8.533333-8.533334v-72.311466a8.533333%208.533333%200%200%200-15.325867-5.154134l-23.6544%2031.214934a8.533333%208.533333%200%200%201-6.792533%203.3792h-37.5808a8.533333%208.533333%200%200%201-6.792533-3.3792l-23.6544-31.232a8.533333%208.533333%200%200%200-15.325867%205.1712V878.933333a8.533333%208.533333%200%200%201-8.533333%208.533334H640a8.533333%208.533333%200%200%201-8.533333-8.533334v-204.8a8.533333%208.533333%200%200%201%208.533333-8.533333h57.6512a8.533333%208.533333%200%200%201%207.082667%203.771733l56.183466%2083.541334a8.533333%208.533333%200%200%200%2014.165334%200l56.183466-83.541334a8.533333%208.533333%200%200%201%207.082667-3.771733H896a8.533333%208.533333%200%200%201%208.533333%208.533333z'%20fill='%23da691e'%20p-id='14637'%3e%3c/path%3e%3c/svg%3e"
  , lr = "data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1762867678974'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='7011'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='48'%20height='48'%3e%3cpath%20d='M590.222222%2079.644444L859.022222%20347.943822V881.777778c0%2037.700267-30.5664%2068.266667-68.266666%2068.266666H233.244444c-37.700267%200-68.266667-30.5664-68.266666-68.266666V147.911111c0-37.700267%2030.5664-68.266667%2068.266666-68.266667h356.977778z%20m-11.764622%2028.444445H233.244444a39.822222%2039.822222%200%200%200-39.799466%2038.456889L193.422222%20147.911111v733.866667a39.822222%2039.822222%200%200%200%2038.456889%2039.799466L233.244444%20921.6h557.511112a39.822222%2039.822222%200%200%200%2039.799466-38.456889L830.577778%20881.777778V359.742578L578.4576%20108.088889z'%20fill='%23FF7875'%20p-id='7012'%3e%3c/path%3e%3cpath%20d='M854.755556%20376.337067h-215.1424c-45.528178%200-82.551467-36.431644-83.5072-81.737956l-0.017067-1.792V79.644444h28.444444v213.162667c0%2029.895111%2023.819378%2054.232178%2053.515378%2055.062756l1.564445%200.022755h215.1424v28.444445z'%20fill='%23FF7875'%20p-id='7013'%3e%3c/path%3e%3cpath%20d='M56.888889%20494.933333m28.444444%200l853.333334%200q28.444444%200%2028.444444%2028.444445l0%20284.444444q0%2028.444444-28.444444%2028.444445l-853.333334%200q-28.444444%200-28.444444-28.444445l0-284.444444q0-28.444444%2028.444444-28.444445Z'%20fill='%23FF7875'%20p-id='7014'%3e%3c/path%3e%3cpath%20d='M318.435556%20762.311111v-63.232h22.272c40.448%200%2075.264-19.968%2075.264-65.28%200-47.104-34.56-62.208-76.288-62.208H272.611556V762.311111h45.824z%20m19.968-99.328h-19.968v-55.04h18.688c22.016%200%2034.304%206.656%2034.304%2025.856%200%2018.688-10.752%2029.184-33.024%2029.184zM505.827556%20762.311111c55.552%200%2093.952-29.952%2093.952-96.256%200-66.304-38.4-94.464-96.512-94.464h-54.784V762.311111h57.344z%20m-5.376-36.864h-6.144v-117.248h6.144c30.72%200%2052.48%2012.544%2052.48%2057.856s-21.76%2059.392-52.48%2059.392z%20m180.48%2036.864v-72.704h65.024v-38.144h-65.024v-41.728h75.776v-38.144H635.107556V762.311111h45.824z'%20fill='%23FFFFFF'%20p-id='7015'%3e%3c/path%3e%3c/svg%3e"
  , dr = "data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740909296257'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='1616'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='48'%20height='48'%3e%3cpath%20d='M417.5495168%20512.9240576c15.44465067-8.88558933%2024.952832-25.30235733%2024.952832-43.06152107%200-17.76571733-9.50818133-34.18139307-24.952832-43.06152106a50.04219733%2050.04219733%200%200%200-49.88818773%200c-15.44465067%208.880128-24.94737067%2025.296896-24.94737067%2043.06152106%200%2017.760256%209.50272%2034.17593173%2024.94737067%2043.06152107a50.04219733%2050.04219733%200%200%200%2049.88818773%200zM303.20121173%20795.5546112V380.7674368h565.22287787v167.06546347a216.38458027%20216.38458027%200%200%201%2061.40613973%2039.76833706V350.16758613c0-16.89736533-13.75163733-30.59985067-30.703616-30.59985066h-99.53716906l-75.54553174-206.85564587c-5.80539733-15.876096-23.42365867-24.068096-39.35873706-18.29000533L95.85404587%20308.00172373c-15.93617067%205.783552-24.15547733%2023.34173867-18.35554134%2039.2167424l163.36267947%20447.28210774c0.278528%200.77550933%200.59528533%201.52917333%200.933888%202.26645333v29.38197333c0%2016.89736533%2013.746176%2030.59438933%2030.703616%2030.59438934h324.97117867a213.96411733%20213.96411733%200%200%201-24.96375467-61.1876864H303.20121173zM241.795072%20350.16758613v267.97233494l-96.09106773-263.09536427%20531.13869653-192.65071787%2057.4029824%20157.18045014H272.498688c-16.95744%200-30.703616%2013.697024-30.703616%2030.59329706zM783.07546453%20580.15744c-91.8913024%200-166.3827968%2074.23481173-166.3827968%20165.80389547C616.69376%20837.53478827%20691.1852544%20911.7696%20783.07546453%20911.7696c91.88037973%200%20166.37733547-74.23481173%20166.37733547-165.8093568%200-91.56799147-74.49695573-165.8028032-166.37733547-165.8028032z%20m97.38540374%20175.13731413l-81.13247574%2081.7823744v-0.07099733a11.5965952%2011.5965952%200%200%201-8.175616%203.35872c-6.41160533%200-11.60533333-5.177344-11.60533333-11.56164267v-33.292288h-84.0105984c-0.91204267%200.229376-1.86231467%200.35498667-2.84535467%200.35498667-6.41160533%200-11.60533333-5.18280533-11.60533333-11.567104v-76.10258773c0-6.38429867%205.193728-11.56164267%2011.60533333-11.56164267h86.85595307v-33.50418773c0-6.38976%205.19918933-11.56164267%2011.60533333-11.56164267%203.489792%200%206.60821333%201.52917333%208.732672%203.95946667l81.06693974%2081.7168384a11.51685973%2011.51685973%200%200%201%204.112384%208.82551466c0%203.76832-1.80770133%207.11611733-4.603904%209.224192zM765.1688448%20531.13214293l-36.69906773-36.56799573-162.07926614%20161.04598187-100.91342506-60.89823574-123.33110614%20100.5092864v60.9583104h224.8507392c-0.15837867-3.38602667-0.25122133-6.79389867-0.25122133-10.21815466%200.00546133-113.0430464%2087.32453547-205.75791787%20198.4233472-214.82919254z'%20fill='%231296db'%20p-id='1617'%3e%3c/path%3e%3c/svg%3e"
  , ur = "data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740909322068'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2672'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='48'%20height='48'%3e%3cpath%20d='M640.768%2064c15.616%200%2030.848%201.984%2042.048%2013.184l200%20200.128c11.2%2011.2%2013.184%2026.368%2013.184%2041.6v257.024L832%20576V351.616H624a16%2016%200%200%201-16-16v-208H192v768h320V960H144a16%2016%200%200%201-15.552-12.352L128%20944V80A16%2016%200%200%201%20144%2064z%20m31.232%2092.8v130.816h130.816L672%20156.8z'%20fill='%238fbb53'%20p-id='2673'%3e%3c/path%3e%3cpath%20d='M623.808%20768h222.784l-49.92-49.984a16%2016%200%200%201%200-22.784l22.72-22.848a16%2016%200%200%201%2022.848%200l113.152%20113.216a17.984%2017.984%200%200%201%200%2024l-113.152%20113.216a16%2016%200%200%201-22.848%200l-22.784-22.848a16%2016%200%200%201%200-22.784l46.016-45.184H623.808a16%2016%200%200%201-16-16v-32a16%2016%200%200%201%2016-16zM354.048%20640V506.88h42.496v-44.544H261.12v44.544h42.24V640h50.688z%20m109.568%200l30.72-58.88h1.536l29.696%2058.88h61.184L533.76%20548.096l51.2-85.76h-59.904l-28.416%2056.576h-1.536l-28.928-56.576h-59.392l50.944%2087.296L403.456%20640h60.16z%20m223.488%200V506.88h42.496v-44.544H594.176v44.544h42.24V640h50.688z'%20fill='%238fbb53'%20p-id='2674'%3e%3c/path%3e%3c/svg%3e"
  , hr = "data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740909607500'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='10886'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='48'%20height='48'%3e%3cpath%20d='M727.008%20487.232l194.016-184.32a99.2%2099.2%200%200%200%200-140.288l-48.416-48.416a99.2%2099.2%200%200%200-138.464-1.76L544.64%20292.384l-184.064-196.64-1.504-1.568a64.832%2064.832%200%200%200-91.712-0.384L129.184%20231.968a64.8%2064.8%200%200%200-1.12%2090.144l181.344%20193.728-171.456%20162.88a99.264%2099.264%200%200%200-28.256%2049.28l-28.992%20123.744a65.632%2065.632%200%200%200%2082.4%2077.92l119.296-35.136a99.744%2099.744%200%200%200%2040.32-23.232l169.056-160.608%20203.616%20217.536%201.504%201.568a64.832%2064.832%200%200%200%2091.712%200.384l138.176-138.176a64.8%2064.8%200%200%200%201.12-90.144l-200.896-214.624zM319.424%20786.176l-90.112-90.112a31.488%2031.488%200%200%200-9.792-6.496L667.104%20264.352l94.272%2094.272c1.408%201.408%203.168%202.08%204.768%203.168L319.424%20786.176zM778.208%20158.784a35.2%2035.2%200%200%201%2049.12%200.64l48.416%2048.416c13.76%2013.76%2013.76%2036.032-0.64%2050.4l-64.448%2061.216c-1.28-2.08-2.24-4.288-4.064-6.112l-93.12-93.12%2064.736-61.44zM288.512%20399.904c8-0.128%2016-3.168%2022.112-9.28l48-48a31.968%2031.968%200%201%200-45.248-45.248l-48%2048a31.68%2031.68%200%200%200-8.928%2020.256L174.816%20278.4c-0.512-0.512-0.512-1.024-0.352-1.152L312.64%20139.04c0.128-0.128%200.672-0.128%201.248%200.416l184.384%20196.992-142.432%20135.328-67.328-71.872zM145.024%20868.288a1.6%201.6%200%200%201-2.016-1.92l28.992-123.744c0.992-4.16%202.944-7.968%205.312-11.488a31.808%2031.808%200%200%200%206.752%2010.144l88.288%2088.288a35.072%2035.072%200%200%201-8%203.552l-119.328%2035.168z%20m598.336%2016.672c-0.128%200.128-0.672%200.128-1.248-0.416l-125.6-134.176a31.232%2031.232%200%200%200%2014.08-7.712l48-48a31.968%2031.968%200%201%200-45.248-45.248l-48%2048a31.68%2031.68%200%200%200-7.296%2011.904l-39.904-42.656%20142.432-135.328%20200.576%20214.304c0.48%200.512%200.48%201.024%200.352%201.152l-138.144%20138.176z'%20fill='%23be8dbd'%20p-id='10887'%3e%3c/path%3e%3c/svg%3e"
  , E = _.t.bind(_)
  , pr = gt.map(t => ({
    ...t,
    icon: t.name === "ChatGPT" ? rr : t.name === "Gemini" ? nr : t.name === "Claude" ? or : t.name === "Grok" ? ar : t.name === "DeepSeek" ? sr : t.name === "YuanBao" ? ir : ""
}))
  , fr = () => {
    const [t,e] = l.useState("")
      , [s,o] = l.useState("")
      , [a,r] = l.useState(!1)
      , [i,c] = l.useState("选择Notion数据库")
      , [d,u] = l.useState("markdown")
      , p = l.useCallback(async () => {
        const h = await yt();
        r(!h.isSupported),
        e(h.currentSiteName),
        o(h.connectionStatus)
    }
    , [])
      , f = l.useCallback(async h => {
        await I("navigation", {
            name: h.name
        }),
        window.open(h.url, "_blank")
    }
    , [I])
      , g = l.useCallback(async () => {
        await I("settings", {
            name: "settings"
        });
        try {
            const h = x.runtime.getURL("/options.html");
            await x.tabs.create({
                url: h
            })
        } catch (h) {
            console.error("打开设置页面失败:", h)
        }
    }
    , [I])
      , y = l.useCallback(async () => {
        await I("tutorial", {
            name: "tutorial"
        }),
        window.open(`${qs}?utm_source=popup`, "_blank")
    }
    , [I])
      , A = l.useCallback(async () => {
        const {canPerform: h, errorMessage: w} = await ee();
        if (!h) {
            $(w || "当前页面不支持此操作");
            return
        }
        M("custom"),
        P("captureSelect")
    }
    , [M, P])
      , q = l.useCallback(async () => {
        const {canPerform: h, errorMessage: w} = await ee();
        if (!h) {
            $(w || "当前页面不支持此操作");
            return
        }
        M("full-text"),
        P("exportFullText")
    }
    , [M, P])
      , j = l.useCallback(async () => {
        const {canPerform: h, errorMessage: w} = await ee();
        if (!h) {
            $(w || "当前页面不支持此操作");
            return
        }
        M("full-image"),
        P("captureAllToImage")
    }
    , [M, P])
      , F = l.useCallback(async () => {
        const {canPerform: h, errorMessage: w} = await ee();
        if (!h) {
            $(w || "当前页面不支持此操作");
            return
        }
        M("full-pdf"),
        P("exportFullPDF")
    }
    , [M, P])
      , H = l.useCallback(async () => {
        const {canPerform: h, errorMessage: w} = await ee();
        if (!h) {
            $(w || "当前页面不支持此操作");
            return
        }
        M("full-markdown"),
        P("exportFullMarkdown")
    }
    , [P]);
    l.useCallback(async () => {
        const {canPerform: h, errorMessage: w} = await ee();
        if (!h) {
            $(w || "当前页面不支持此操作");
            return
        }
        M("save-to-notion"),
        P("saveToNotion")
    }
    , [M, P]);
    const k = l.useCallback(async () => {
        const {canPerform: h, errorMessage: w} = await ee();
        if (!h) {
            $(w || "当前页面不支持此操作");
            return
        }
        M("copy"),
        P("copyFullChats")
    }
    , [M, P])
      , R = l.useCallback( () => /Edg/i.test(navigator.userAgent), [])
      , ie = l.useCallback( () => {
        try {
            return x.i18n.getUILanguage()
        } catch {
            return navigator.language || navigator.languages?.[0] || "en-US"
        }
    }
    , []);
    return l.useCallback( () => {
        I("support_btn_click", {});
        const h = ie()
          , w = R() ? `https://microsoftedge.microsoft.com/addons/detail/lmedefdihnoklhacbmbnchokjilglbcd?hl=${h}` : `https://chromewebstore.google.com/detail/kagjkiiecagemklhmhkabbalfpbianbe?hl=${h}&utm_source=popup`;
        x.tabs.create({
            url: w
        })
    }
    , [I, ie, R]),
    l.useEffect( () => {
        p(),
        I("open_popup", {})
    }
    , [p, I]),
    n.jsxs(n.Fragment, {
        children: [n.jsxs("div", {
            className: m.popupContainer,
            children: [n.jsxs("div", {
                className: m.userBar,
                children: [n.jsx("div", {
                    className: m.userInfo
                }), n.jsx("div", {
                    className: m.title,
                    children: E("popup.title")
                })]
            }), n.jsx("div", {
                className: m.navigationBar,
                children: n.jsx(Is, {
                    scrollAmount: 100,
                    gap: 8,
                    visibleItems: 7,
                    itemWidth: 28,
                    leftLabel: "向左滚动",
                    rightLabel: "向右滚动",
                    children: pr.map(h => n.jsxs("a", {
                        className: `${m.navSite} ${t === h.name ? m.active : ""} ${!a && t === h.name ? m.connected : ""}`,
                        title: !a && t === h.name ? `${h.name} - ${s === "chat" ? E("nav.chatPage", "聊天页面") : E("nav.homePage", "主页面")}` : `${E("nav.clickToVisit", "点击跳转到")} ${h.name}`,
                        onClick: w => {
                            w.preventDefault(),
                            f(h)
                        }
                        ,
                        children: [n.jsx("img", {
                            src: h.icon,
                            alt: h.name
                        }), !a && t === h.name && n.jsx("div", {
                            className: `${m.connectionDot} ${s === "chat" ? m.chatStatus : m.homeStatus}`
                        })]
                    }, h.url))
                })
            }), n.jsxs("div", {
                className: m.featuresGrid,
                children: [n.jsxs("div", {
                    className: m.topActions,
                    children: [n.jsxs("div", {
                        className: `${m.featureCard} ${m.featured}`,
                        onClick: A,
                        children: [n.jsx("div", {
                            className: m.iconWrapper,
                            children: n.jsx("img", {
                                src: hr,
                                alt: "Custom Export"
                            })
                        }), n.jsx("div", {
                            className: m.featureInfo,
                            children: n.jsx("h3", {
                                children: E("popup.customExport", "自定义导出")
                            })
                        }), n.jsx(Qe, {
                            type: "recommended"
                        })]
                    }), n.jsxs("div", {
                        className: `${m.featureCard} ${m.featured}`,
                        onClick: k,
                        children: [n.jsx("div", {
                            className: m.iconWrapper,
                            children: n.jsx(as, {
                                size: 16,
                                color: "#fff"
                            })
                        }), n.jsx("div", {
                            className: m.featureInfo,
                            children: n.jsx("h3", {
                                children: E("popup.copyFullAction", "复制")
                            })
                        })]
                    })]
                }), n.jsxs("div", {
                    className: m.quickActionsSection,
                    children: [n.jsxs("div", {
                        className: m.sectionTitle,
                        children: [E("popup.quickExports", "一键导出"), n.jsx(Ls, {
                            tooltip: E("tooltip.quickExports"),
                            position: "top-right",
                            size: 12,
                            width: 162
                        })]
                    }), n.jsxs("div", {
                        className: m.actionsGrid,
                        children: [n.jsxs("div", {
                            className: m.featureCard,
                            onClick: F,
                            children: [n.jsx("div", {
                                className: m.iconWrapper,
                                children: n.jsx("img", {
                                    src: lr,
                                    alt: "Export as PDF"
                                })
                            }), n.jsx("div", {
                                className: m.featureInfo,
                                children: n.jsx("h3", {
                                    children: E("popup.exportPdfShort", "PDF")
                                })
                            }), n.jsx(Qe, {
                                type: "hot",
                                text: E("ui.hot", "热门")
                            })]
                        }), n.jsxs("div", {
                            className: m.featureCard,
                            onClick: H,
                            children: [n.jsx("div", {
                                className: m.iconWrapper,
                                children: n.jsx("img", {
                                    src: cr,
                                    alt: "Export as markdown"
                                })
                            }), n.jsx("div", {
                                className: m.featureInfo,
                                children: n.jsx("h3", {
                                    children: E("popup.exportMarkdownShort", "Markdown")
                                })
                            })]
                        }), n.jsxs("div", {
                            className: m.featureCard,
                            onClick: q,
                            children: [n.jsx("div", {
                                className: m.iconWrapper,
                                children: n.jsx("img", {
                                    src: ur,
                                    alt: "Export as Text"
                                })
                            }), n.jsx("div", {
                                className: m.featureInfo,
                                children: n.jsx("h3", {
                                    children: E("popup.exportTextShort", "文本")
                                })
                            })]
                        }), n.jsxs("div", {
                            className: m.featureCard,
                            onClick: j,
                            children: [n.jsx("div", {
                                className: m.iconWrapper,
                                children: n.jsx("img", {
                                    src: dr,
                                    alt: "Export as Image"
                                })
                            }), n.jsx("div", {
                                className: m.featureInfo,
                                children: n.jsx("h3", {
                                    children: E("popup.exportImageShort", "图片")
                                })
                            })]
                        })]
                    })]
                }), n.jsxs("div", {
                    className: m.notionSection,
                    children: [n.jsx("div", {
                        className: m.sectionTitle,
                        children: E("popup.notionSync", "Notion")
                    }), n.jsx(tr, {})]
                })]
            }), n.jsxs("div", {
                className: m.bottomActions,
                children: [n.jsxs("button", {
                    title: "To Guide Page",
                    className: m.tutorialBtn,
                    onClick: y,
                    children: [n.jsx(Zt, {
                        size: 14
                    }), n.jsx("span", {
                        children: E("ui.viewTutorial", "查看使用教程")
                    })]
                }), n.jsx("button", {
                    title: "To Setting Page",
                    className: m.settingsBtn,
                    onClick: g,
                    children: n.jsx(Wt, {
                        size: 16
                    })
                })]
            })]
        }), n.jsx(dn, {
            position: "top-center",
            reverseOrder: !0,
            containerStyle: {
                inset: "10px"
            },
            toastOptions: {
                duration: 2e3,
                style: {
                    background: "rgba(0,0,0,0.8)",
                    color: "#fff"
                },
                success: {
                    duration: 1e3
                }
            }
        })]
    })
}
  , rt = document.getElementById("app");
rt && Jt.createRoot(rt).render(n.jsx(fr, {}));
